
// Portions of this code are licensed under the Apache License Version 2.0. A
// copy of the License can be obtained at:
// https://www.apache.org/licenses/LICENSE-2.0
(function() {
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(l){var t=0;return function(){return t<l.length?{done:!1,value:l[t++]}:{done:!0}}};$jscomp.arrayIterator=function(l){return{next:$jscomp.arrayIteratorImpl(l)}};$jscomp.makeIterator=function(l){var t="undefined"!=typeof Symbol&&Symbol.iterator&&l[Symbol.iterator];return t?t.call(l):$jscomp.arrayIterator(l)};$jscomp.arrayFromIterator=function(l){for(var t,D=[];!(t=l.next()).done;)D.push(t.value);return D};
$jscomp.arrayFromIterable=function(l){return l instanceof Array?l:$jscomp.arrayFromIterator($jscomp.makeIterator(l))};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(l,t,D){if(l==Array.prototype||l==Object.prototype)return l;l[t]=D.value;return l};$jscomp.getGlobal=function(l){l=["object"==typeof globalThis&&globalThis,l,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var t=0;t<l.length;++t){var D=l[t];if(D&&D.Math==Math)return D}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(l,t){var D=$jscomp.propertyToPolyfillSymbol[t];if(null==D)return l[t];D=l[D];return void 0!==D?D:l[t]};
$jscomp.polyfill=function(l,t,D,H){t&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(l,t,D,H):$jscomp.polyfillUnisolated(l,t,D,H))};$jscomp.polyfillUnisolated=function(l,t,D,H){D=$jscomp.global;l=l.split(".");for(H=0;H<l.length-1;H++){var S=l[H];if(!(S in D))return;D=D[S]}l=l[l.length-1];H=D[l];t=t(H);t!=H&&null!=t&&$jscomp.defineProperty(D,l,{configurable:!0,writable:!0,value:t})};
$jscomp.polyfillIsolated=function(l,t,D,H){var S=l.split(".");l=1===S.length;H=S[0];H=!l&&H in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var Y=0;Y<S.length-1;Y++){var oa=S[Y];if(!(oa in H))return;H=H[oa]}S=S[S.length-1];D=$jscomp.IS_SYMBOL_NATIVE&&"es6"===D?H[S]:null;t=t(D);null!=t&&(l?$jscomp.defineProperty($jscomp.polyfills,S,{configurable:!0,writable:!0,value:t}):t!==D&&(void 0===$jscomp.propertyToPolyfillSymbol[S]&&($jscomp.propertyToPolyfillSymbol[S]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(S):
$jscomp.POLYFILL_PREFIX+S),$jscomp.defineProperty(H,$jscomp.propertyToPolyfillSymbol[S],{configurable:!0,writable:!0,value:t})))};$jscomp.underscoreProtoCanBeSet=function(){var l={a:!0},t={};try{return t.__proto__=l,t.a}catch(D){}return!1};$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(l,t){l.__proto__=t;if(l.__proto__!==t)throw new TypeError(l+" is not extensible");return l}:null;
$jscomp.generator={};$jscomp.generator.ensureIteratorResultIsObject_=function(l){if(!(l instanceof Object))throw new TypeError("Iterator result "+l+" is not an object");};$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};
$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(l){this.yieldResult=l};
$jscomp.generator.Context.prototype.throw_=function(l){this.abruptCompletion_={exception:l,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(l){this.abruptCompletion_={return:l};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(l){this.abruptCompletion_={jumpTo:l};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(l,t){this.nextAddress=t;return{value:l}};
$jscomp.generator.Context.prototype.yieldAll=function(l,t){l=$jscomp.makeIterator(l);var D=l.next();$jscomp.generator.ensureIteratorResultIsObject_(D);if(D.done)this.yieldResult=D.value,this.nextAddress=t;else return this.yieldAllIterator_=l,this.yield(D.value,t)};$jscomp.generator.Context.prototype.jumpTo=function(l){this.nextAddress=l};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};
$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(l,t){this.catchAddress_=l;void 0!=t&&(this.finallyAddress_=t)};$jscomp.generator.Context.prototype.setFinallyBlock=function(l){this.catchAddress_=0;this.finallyAddress_=l||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(l,t){this.nextAddress=l;this.catchAddress_=t||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(l){this.catchAddress_=l||0;l=this.abruptCompletion_.exception;this.abruptCompletion_=null;return l};$jscomp.generator.Context.prototype.enterFinallyBlock=function(l,t,D){D?this.finallyContexts_[D]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=l||0;this.finallyAddress_=t||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(l,t){t=this.finallyContexts_.splice(t||0)[0];if(t=this.abruptCompletion_=this.abruptCompletion_||t){if(t.isException)return this.jumpToErrorHandler_();void 0!=t.jumpTo&&this.finallyAddress_<t.jumpTo?(this.nextAddress=t.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=l};$jscomp.generator.Context.prototype.forIn=function(l){return new $jscomp.generator.Context.PropertyIterator(l)};
$jscomp.generator.Context.PropertyIterator=function(l){this.object_=l;this.properties_=[];for(var t in l)this.properties_.push(t);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var l=this.properties_.pop();if(l in this.object_)return l}return null};$jscomp.generator.Engine_=function(l){this.context_=new $jscomp.generator.Context;this.program_=l};
$jscomp.generator.Engine_.prototype.next_=function(l){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,l,this.context_.next_);this.context_.next_(l);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(l){this.context_.start_();var t=this.context_.yieldAllIterator_;if(t)return this.yieldAllStep_("return"in t?t["return"]:function(D){return{value:D,done:!0}},l,this.context_.return);this.context_.return(l);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(l){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],l,this.context_.next_);this.context_.throw_(l);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(l,t,D){try{var H=l.call(this.context_.yieldAllIterator_,t);$jscomp.generator.ensureIteratorResultIsObject_(H);if(!H.done)return this.context_.stop_(),H;var S=H.value}catch(Y){return this.context_.yieldAllIterator_=null,this.context_.throw_(Y),this.nextStep_()}this.context_.yieldAllIterator_=null;D.call(this.context_,S);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var l=this.program_(this.context_);if(l)return this.context_.stop_(),{value:l.value,done:!1}}catch(t){this.context_.yieldResult=void 0,this.context_.throw_(t)}this.context_.stop_();if(this.context_.abruptCompletion_){l=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(l.isException)throw l.exception;return{value:l.return,done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(l){this.next=function(t){return l.next_(t)};this.throw=function(t){return l.throw_(t)};this.return=function(t){return l.return_(t)};this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(l,t){t=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(t));$jscomp.setPrototypeOf&&l.prototype&&$jscomp.setPrototypeOf(t,l.prototype);return t};
$jscomp.asyncExecutePromiseGenerator=function(l){function t(H){return l.next(H)}function D(H){return l.throw(H)}return new Promise(function(H,S){function Y(oa){oa.done?H(oa.value):Promise.resolve(oa.value).then(t,D).then(Y,S)}Y(l.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(l){return $jscomp.asyncExecutePromiseGenerator(l())};$jscomp.asyncExecutePromiseGeneratorProgram=function(l){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(l)))};
(function(){function l(a,b){return b={exports:{}},a(b,b.exports),b.exports}function t(a,b,c,d){this.id=b;this.name=a;this.keys=c||{};this.originalEngine=this.engine=d||cc}function D(){this.tasks={};this.nextId=1}function H(a){return H.enabled(a)?function(b){b instanceof Error&&(b=b.stack||b.message);var c=new Date,d=c-(H[a]||c);H[a]=c;b=a+" "+b+" +"+H.humanize(d);window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}function S(a,b){return function(){return a.apply(b,
arguments)}}function Y(a,b,c){"function"===typeof b&&(c=b);this.name=a;this.id=Cb();this.fn=c;this.maxItems=b.maxItems||Infinity;this.maxAttempts=b.maxAttempts||Infinity;this.backoff={MIN_RETRY_DELAY:b.minRetryDelay||1E3,MAX_RETRY_DELAY:b.maxRetryDelay||3E4,FACTOR:b.backoffFactor||2,JITTER:b.backoffJitter||0};this.timeouts={ACK_TIMER:1E3,RECLAIM_TIMER:3E3,RECLAIM_TIMEOUT:1E4,RECLAIM_WAIT:500};this.keys={IN_PROGRESS:"inProgress",QUEUE:"queue",RECLAIM_START:"reclaimStart",RECLAIM_END:"reclaimEnd",ACK:"ack"};
this._schedule=new dc;this._processId=0;this._store=new jb(this.name,this.id,this.keys);this._store.set(this.keys.IN_PROGRESS,{});this._store.set(this.keys.QUEUE,[]);this._ack=S(this._ack,this);this._checkReclaim=S(this._checkReclaim,this);this._processHead=S(this._processHead,this);this._running=!1}function oa(a){switch(typeof a.className){case "string":return a.className;case "object":return a.className.baseVal||a.getAttribute("class")||"";default:return""}}function ec(a){var b="";Pa(a)&&a.childNodes&&
a.childNodes.length&&e.each(a.childNodes,function(c){c&&3===c.nodeType&&c.textContent&&(b+=e.trim(c.textContent).split(/(\s+)/).filter(Qa).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255))});return e.trim(b)}function fc(a){return gc(a).map(function(b){return b.textContent.trim()}).filter(Qa).join(" ").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function gc(a,b){b=void 0===b?10:b;var c=null,d=[];if(Pa(a)&&a.childNodes&&a.childNodes.length)for(a=[[a,0]];a.length;){var f=
$jscomp.makeIterator(a.pop()),g=f.next().value;f=f.next().value;if(!(f>b)&&null!==g)for(var h=0;h<g.childNodes.length;h++){var m=g.childNodes[h],p=m.nodeType;if((1===p||9===p||11===p)&&Pa(m))a.push([m,f+1]);else if(m.nodeType===window.Node.TEXT_NODE&&m.textContent.trim()){if(!c)c=m;else if(c.parentNode!==m.parentNode)return[];d.push(m)}}}return d}function hc(a){return a&&11===a.nodeType}function ya(a,b){return a&&a.tagName&&a.tagName.toLowerCase()===b.toLowerCase()}function ic(a,b){if(!a||ya(a,"html")||
!a||1!==a.nodeType)return!1;switch(a.tagName.toLowerCase()){case "html":return!1;case "form":return"submit"===b.type;case "input":return-1===["button","submit"].indexOf(a.getAttribute("type"))?"change"===b.type:"click"===b.type;case "select":case "textarea":return"change"===b.type;default:return"click"===b.type}}function jc(a){for(var b=[a];a.parentNode&&!ya(a,"body")&&!hc(a.parentNode);)b.push(a.parentNode),a=a.parentNode;return b}function Pa(a){return!Db(a)||ya(a,"input")||ya(a,"select")||ya(a,
"textarea")||"true"===a.getAttribute("contenteditable")?!1:!0}function Db(a){for(var b=a;b.parentNode&&!ya(b,"body");b=b.parentNode){var c=oa(b).split(" ");if(e.includes(c,"fp-sensitive")||e.includes(c,"fp-no-track"))return!1}if(e.includes(oa(a).split(" "),"fp-include"))return!0;b=a.type||"";if("string"===typeof b)switch(b.toLowerCase()){case "hidden":return!1;case "password":return!1}a=a.name||a.id||"";return"string"===typeof a&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(a.replace(/[^a-zA-Z0-9]/g,
""))?!1:!0}function Qa(a){return null===a||e.isUndefined(a)||"string"===typeof a&&(a=e.trim(a),/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/.test((a||"").replace(/[\- ]/g,""))||/(^\d{3}-?\d{2}-?\d{4}$)/.test(a))?!1:!0}function kc(a,b){Eb(!0,a,b)}function lc(a,b){Eb(!1,a,b)}function mc(a,b){return"1"===Fb(a,b)}function Gb(a,b){return"0"===Fb(a,b)}function Fa(a){return Hb(a,function(b){return this._get_config(b)})}
function nc(a,b){b=b||{};kb(b).remove(lb(a,b),!!b.crossSubdomainCookie)}function kb(a){a=a||{};return"localStorage"===a.persistenceType?e.localStorage:e.cookie}function lb(a,b){b=b||{};return(b.persistencePrefix||"__mp_opt_in_out_")+a}function Fb(a,b){return kb(b).get(lb(a,b))}function Eb(a,b,c){e.isString(b)&&b.length?(c=c||{},kb(c).set(lb(b,c),a?1:0,e.isNumber(c.cookieExpiration)?c.cookieExpiration:null,!!c.crossSubdomainCookie,!!c.secureCookie),c.track&&a&&c.track(c.trackEventName||"$opt_in",c.trackProperties)):
console.error("gdpr."+(a?"optIn":"optOut")+" called with an invalid token")}function Hb(a,b){return function(){var c=!1;try{var d=b.call(this,"token"),f=b.call(this,"opt_out_tracking_persistence_type"),g=b.call(this,"opt_out_tracking_cookie_prefix"),h=b.call(this,"window");d&&(c=Gb(d,{persistenceType:f,persistencePrefix:g,window:h}))}catch(m){console.error("Unexpected error when checking tracking opt-out status: "+m)}if(!c)return a.apply(this,arguments);c=arguments[arguments.length-1];"function"===
typeof c&&c(0)}}function Ga(a){var b=a.url_regex;if(void 0===b)this.urlRegex=null;else try{this.urlRegex=new RegExp(b)}catch(c){this.urlRegex=null}this.allowedProperties=a.allowed_properties||[]}function Ib(a,b){a=a||{};if(!e.isObject(b))return a;b=$jscomp.makeIterator(Object.entries(b));for(var c=b.next();!c.done;c=b.next()){var d=$jscomp.makeIterator(c.value);c=d.next().value;d=d.next().value;c in a?e.isObject(a[c])&&(a[c]=Ib(a[c],d)):a[c]=d}return a}function mb(a,b,c){c=void 0===c?0:c;if(void 0!==
a){if(c>=b.length)return e.cloneObject(a);if(a instanceof Object){var d=b[c];if("*"===d){d={};a=$jscomp.makeIterator(Object.entries(a));for(var f=a.next();!f.done;f=a.next()){var g=$jscomp.makeIterator(f.value);f=g.next().value;g=g.next().value;g=mb(g,b,c+1);void 0!==g&&(d[f]=g)}return d}b=mb(a[d],b,c+1);if(void 0!==b)return c={},c[d]=b,c}}}function oc(a){this.priority=a.priority;this.targetValue=a.targetValue;this.operation=a.operation;this.operandValue=a.operandValue}function pc(a){this.destinationName=
a.destinationName;this.eventDefId=a.eventDefId;this.priority=a.priority;var b=this.transformations=[];e.each(a.transformations,function(c){b.push(new oc(c))})}function Ra(a,b){this.transformation=a;this.set=b}function qc(a,b){if(b===nb.String){if(null===a)throw Error("Cant cast null to string");if("object"===typeof a)return JSON.stringify(a);if("string"===typeof a)return a;if("number"===typeof a)return a.toString();if("boolean"===typeof a)return a?"true":"false"}else if(b===nb.Number){if("object"===
typeof a)throw Error("Cant cast object to number");if("string"===typeof a)return parseFloat(a)||a;if("number"===typeof a)return a;if("boolean"===typeof a)throw Error("Cant cast boolean to number");}else if(b===nb.Boolean){if("object"===typeof a)throw Error("Cant cast object to boolean");if("string"===typeof a)return b=a.toLowerCase(),"t"===b||"true"===b?!0:"f"===b||"false"===b?!1:a;if("number"===typeof a)return 0!==a;if("boolean"===typeof a)return a}else throw Error("Got unexpected target type of cast transformation: "+
b);}function ha(a){this.transformers=e.sortBy(e.sortBy(a,function(b){return b.transformation.priority}),function(b){return b.set.priority})}function rc(a){return a.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")}function Jb(a,b){for(var c={All:!1},d=e.keys(a.enabled_client_destinations),f=0;f<d.length;f++){var g=b[d[f]];g&&(g=g.name)&&(c[g]=!0)}return new Kb(a.name,a.id,Lb(a.filter),c,a.snapshots||[],a.segment_compatible||!1)}function Lb(a){if("and"===a.type){for(var b=[],c=0;c<a.filters.length;c++)b.push(Lb(a.filters[c]));
return new ob(b)}return"prop_filter"===a.type?new pb(a.prop,a.op,a.val,a.negate||!1):new ob([])}function sc(a,b,c){var d={};a.forEach(function(g){return d[g.id]=g});var f={};Object.values(b).forEach(function(g){return f[g.id]=g});c.forEach(function(g){return d[g.id]=Jb(g,f)});return Object.values(d)}function tc(a,b,c){if(!window.XMLHttpRequest)return c({eventDefs:[],destInfo:[],transformer:ha.nil,configVersion:0});try{var d=new XMLHttpRequest;d.open("GET",a.config_url||a.app_host+"/event-definitions/"+
b,!0);d.onreadystatechange=function(){if(4===d.readyState)if(200===d.status){if(c)try{var f=JSON.parse(d.responseText),g=[],h={},m=f.dest_info,p={},u=ha.nil,w=f.version||1,r={},y={},x=!0,A="GET",L=f.networkCaptureConfig;void 0!==L&&(L=L.allowlist);2<=w&&(u=ha.fromTransformationSets(f.transformation_sets));var M=[];if(void 0!==L)for(var R in L.rules||[]){var Q=new Ga(L.rules[R]);M.push(Q)}for(L=0;L<m.length;L++){var N=m[L];if(3<=w)if(N.useTransformer=!0,N.skipTransformingEventNames=!1,"Twitter Ads"===
N.name&&(N.mapping=u.getLegacyMapping(N.name),N.settings.events=u.getLegacyMappingToSelf(N.name)),"AdRoll"===N.name)N.mapping=u.getLegacyMapping(N.name),N.useTransformer=!1,N.settings.events=u.getLegacyMappingToSelf(N.name);else if("Google AdWords New"===N.name){for(R=0;R<f.event_defs.length;R++){var ka=f.event_defs[R];h[ka.id]=ka.name}N.mapping=u.getLegacyMapping(N.name);N.skipTransformingEventNames=!0;R=[];for(Q=0;Q<N.mapping.length;Q++){var Z=N.mapping[Q];R.push({event:h[Z.fpEvent],id:Z.destEvent})}N.settings.clickConversions=
R}p[N.id]=N}for(h=0;h<f.event_defs.length;h++)ka=Jb(f.event_defs[h],p),g.push(ka);r={"data-wa-link":!0,"data-ref":!0,"data-test-id":!0,"data-testid":!0,"data-automation":!0,"data-qa":!0,"data-component":!0,"data-category":!0,"data-index":!0,"data-tid":!0,"data-selector":!0,"data-test":!0,"data-auid":!0,"data-hook":!0,"data-track":!0,"data-page":!0,"data-current-page":!0,"data-key":!0,"data-e2e":!0,"data-auto":!0,"data-element":!0,"data-source-file":!0,"aria-label":!0,"aria-labelledby":!0,"aria-describedby":!0,
name:!0,role:!0,src:!0,href:!0,alt:!0,action:!0};if(4<=w&&f.elementAttributesWhitelist)for(ka=0;ka<f.elementAttributesWhitelist;ka++)r[f.elementAttributesWhitelist[ka]]=!0;5<=w&&f.codeEvalConfig&&"object"===typeof f.codeEvalConfig&&(y=e.extend({onPageLoad:null,onPageChange:null,beforeEventFire:null},f.codeEvalConfig));6<=w&&(x=!!f.attemptRetry);7<=w&&(A=f.trackRequestType);c({eventDefs:g,destInfo:m,transformer:u,configVersion:w,elementAttributesWhitelist:r,codeEvalConfig:y,allowRetry:x,trackRequestType:A,
allowList:M})}catch(da){console.error(da),c({eventDefs:[],destInfo:[],transformer:ha.nil,configVersion:0})}}else 404===d.status?console.error("The above 404 is expected. It appears you have not setup your Freshpaint account yet."):console.error("Bad HTTP status: "+d.status+" "+d.statusText),c({eventDefs:[],destInfo:[],transformer:ha.nil,configVersion:0})};d.send(null)}catch(f){console.error(f)}}function uc(){if("undefined"!==typeof window){var a=window.Element.prototype;"function"!==typeof a.matches&&
(a.matches=a.msMatchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||function(b){b=(this.document||this.ownerDocument).querySelectorAll(b);for(var c=0;b[c]&&b[c]!==this;)++c;return!!b[c]});"function"!==typeof a.closest&&(a.closest=function(b){for(var c=this;c&&1===c.nodeType;){if(c.matches(b))return c;c=c.parentNode}return null})}}function Ha(a){return"freshpaint"===a||"perfalytics"===a}function Mb(a,b){if("4b82b11f-7d2b-42d9-93ea-4dff599ad2b1"!==a||"/"===O.location.pathname||"Thumbtack Help"!==
P.title)return b();setTimeout(function(){Mb(a,b)},100)}for(var qb="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Nb=l(function(a){var b="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(b){var c=new Uint8Array(16);a.exports=function(){b(c);
return c}}else{var d=Array(16);a.exports=function(){for(var f=0,g;16>f;f++)0===(f&3)&&(g=4294967296*Math.random()),d[f]=g>>>((f&3)<<3)&255;return d}}}),ea=[],$a=0;256>$a;++$a)ea[$a]=($a+256).toString(16).substr(1);var Ob=function(a,b){b=b||0;return[ea[a[b++]],ea[a[b++]],ea[a[b++]],ea[a[b++]],"-",ea[a[b++]],ea[a[b++]],"-",ea[a[b++]],ea[a[b++]],"-",ea[a[b++]],ea[a[b++]],"-",ea[a[b++]],ea[a[b++]],ea[a[b++]],ea[a[b++]],ea[a[b++]],ea[a[b++]]].join("")},Pb,rb,sb=0,tb=0,Sa=function(a,b,c){c=b&&c||0;"string"==
typeof a&&(b="binary"===a?Array(16):null,a=null);a=a||{};a=a.random||(a.rng||Nb)();a[6]=a[6]&15|64;a[8]=a[8]&63|128;if(b)for(var d=0;16>d;++d)b[c+d]=a[d];return b||Ob(a)};Sa.v1=function(a,b,c){c=b&&c||0;var d=b||[];a=a||{};var f=a.node||Pb,g=void 0!==a.clockseq?a.clockseq:rb;if(null==f||null==g){var h=Nb();null==f&&(f=Pb=[h[0]|1,h[1],h[2],h[3],h[4],h[5]]);null==g&&(g=rb=(h[6]<<8|h[7])&16383)}h=void 0!==a.msecs?a.msecs:(new Date).getTime();var m=void 0!==a.nsecs?a.nsecs:tb+1,p=h-sb+(m-tb)/1E4;0>p&&
void 0===a.clockseq&&(g=g+1&16383);(0>p||h>sb)&&void 0===a.nsecs&&(m=0);if(1E4<=m)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");sb=h;tb=m;rb=g;h+=122192928E5;a=(1E4*(h&268435455)+m)%4294967296;d[c++]=a>>>24&255;d[c++]=a>>>16&255;d[c++]=a>>>8&255;d[c++]=a&255;a=h/4294967296*1E4&268435455;d[c++]=a>>>8&255;d[c++]=a&255;d[c++]=a>>>24&15|16;d[c++]=a>>>16&255;d[c++]=g>>>8|128;d[c++]=g&255;for(g=0;6>g;++g)d[c+g]=f[g];return b?b:Ob(d)};Sa.v4=Sa;var vc=Object.prototype.hasOwnProperty,wc=String.prototype.charAt,
xc=Object.prototype.toString,yc=function(a,b){return wc.call(a,b)},ub=function(a,b){return vc.call(a,b)},Qb=function(a,b){b=b||ub;for(var c=[],d=0,f=a.length;d<f;d+=1)b(a,d)&&c.push(String(d));return c},Ta=function(a){if(null==a)return[];if("[object String]"===xc.call(a))return Qb(a,yc);if(null!=a&&"function"!==typeof a&&"number"===typeof a.length)return Qb(a,ub);var b=ub;var c=[],d;for(d in a)b(a,d)&&c.push(String(d));return c},zc=Sa.v4,vb={_data:{},length:0,setItem:function(a,b){this._data[a]=b;
this.length=Ta(this._data).length;return b},getItem:function(a){return a in this._data?this._data[a]:null},removeItem:function(a){a in this._data&&delete this._data[a];this.length=Ta(this._data).length;return null},clear:function(){this._data={};this.length=0},key:function(a){return Ta(this._data)[a]}};var Ac=function(){try{if(!window.localStorage)return!1;var a=zc();window.localStorage.setItem(a,"test_value");var b=window.localStorage.getItem(a);window.localStorage.removeItem(a);return"test_value"===
b}catch(c){return!1}}()?window.localStorage:vb;var Rb=Object.prototype.toString,Bc="function"===typeof Array.isArray?Array.isArray:function(a){return"[object Array]"===Rb.call(a)},Cc=function(a,b){for(var c=0;c<b.length&&!1!==a(b[c],c,b);c+=1);},Dc=function(a,b){for(var c=Ta(b),d=0;d<c.length&&!1!==a(b[c[d]],c[d],b);d+=1);},za=function(a,b){var c;if((c=null!=b)&&!(c=Bc(b))&&(c="function"!==b)){c=b.length;var d=typeof c;c="number"===d||"object"===d&&"[object Number]"===Rb.call(c)}return(c?Cc:Dc).call(this,
a,b)},Sb=l(function(a,b){(function(){function c(r,y){function x(q,z){try{q()}catch(v){z&&z()}}function A(q){if(null!=A[q])return A[q];if("bug-string-char-index"==q)var z=!1;else if("json"==q)z=A("json-stringify")&&A("date-serialization")&&A("json-parse");else if("date-serialization"==q){if(z=A("json-stringify")&&la){var v=y.stringify;x(function(){z='"-271821-04-20T00:00:00.000Z"'==v(new Q(-864E13))&&'"+275760-09-13T00:00:00.000Z"'==v(new Q(864E13))&&'"-000001-01-01T00:00:00.000Z"'==v(new Q(-621987552E5))&&
'"1969-12-31T23:59:59.999Z"'==v(new Q(-1))})}}else{var C;if("json-stringify"==q){v=y.stringify;var B="function"==typeof v;B&&((C=function(){return 1}).toJSON=C,x(function(){B="0"===v(0)&&"0"===v(new L)&&'""'==v(new M)&&v(da)===fa&&v(fa)===fa&&v()===fa&&"1"===v(C)&&"[1]"==v([C])&&"[null]"==v([fa])&&"null"==v(null)&&"[null,null,null]"==v([fa,da,null])&&'{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'==v({a:[C,!0,!1,null,"\x00\b\n\f\r\t"]})&&"1"===v(null,C)&&"[\n 1,\n 2\n]"==v([1,2],null,1)},function(){B=
!1}));z=B}if("json-parse"==q){var I=y.parse,n;"function"==typeof I&&x(function(){0===I("0")&&!I(!1)&&(C=I('{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'),n=5==C.a.length&&1===C.a[0])&&(x(function(){n=!I('"\t"')}),n&&x(function(){n=1!==I("01")}),n&&x(function(){n=1!==I("1.")}))},function(){n=!1});z=n}}return A[q]=!!z}r||(r=g.Object());y||(y=g.Object());var L=r.Number||g.Number,M=r.String||g.String,R=r.Object||g.Object,Q=r.Date||g.Date,N=r.SyntaxError||g.SyntaxError,ka=r.TypeError||g.TypeError,
Z=r.Math||g.Math;r=r.JSON||g.JSON;"object"==typeof r&&r&&(y.stringify=r.stringify,y.parse=r.parse);R=R.prototype;var da=R.toString,ta=R.hasOwnProperty,fa,la=new Q(-0xc782b5b800cec);x(function(){la=-109252==la.getUTCFullYear()&&0===la.getUTCMonth()&&1===la.getUTCDate()&&10==la.getUTCHours()&&37==la.getUTCMinutes()&&6==la.getUTCSeconds()&&708==la.getUTCMilliseconds()});A["bug-string-char-index"]=A["date-serialization"]=A.json=A["json-stringify"]=A["json-parse"]=null;if(!A("json")){var Aa=A("bug-string-char-index"),
ca=function(q,z){var v=0,C,B;(C=function(){this.valueOf=0}).prototype.valueOf=0;var I=new C;for(B in I)ta.call(I,B)&&v++;C=I=null;v?ca=function(n,F){var ba="[object Function]"==da.call(n),K,W;for(K in n)ba&&"prototype"==K||!ta.call(n,K)||(W="constructor"===K)||F(K);(W||ta.call(n,K="constructor"))&&F(K)}:(I="valueOf toString toLocaleString propertyIsEnumerable isPrototypeOf hasOwnProperty constructor".split(" "),ca=function(n,F){var ba="[object Function]"==da.call(n),K,W=!ba&&"function"!=typeof n.constructor&&
d[typeof n.hasOwnProperty]&&n.hasOwnProperty||ta;for(K in n)ba&&"prototype"==K||!W.call(n,K)||F(K);for(ba=I.length;K=I[--ba];)W.call(n,K)&&F(K)});return ca(q,z)};if(!A("json-stringify")&&!A("date-serialization")){var Ua={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},ma=function(q,z){return("000000"+(z||0)).slice(-q)},wa=function(q){var z,v,C,B,I,n,F,ba;if(la)var K=function(T){z=T.getUTCFullYear();v=T.getUTCMonth();C=T.getUTCDate();I=T.getUTCHours();n=T.getUTCMinutes();F=T.getUTCSeconds();
ba=T.getUTCMilliseconds()};else{var W=Z.floor,ab=[0,31,59,90,120,151,181,212,243,273,304,334],va=function(T,ua){return ab[ua]+365*(T-1970)+W((T-1969+(ua=+(1<ua)))/4)-W((T-1901+ua)/100)+W((T-1601+ua)/400)};K=function(T){C=W(T/864E5);for(z=W(C/365.2425)+1970-1;va(z+1,0)<=C;z++);for(v=W((C-va(z,0))/30.42);va(z,v+1)<=C;v++);C=1+C-va(z,v);B=(T%864E5+864E5)%864E5;I=W(B/36E5)%24;n=W(B/6E4)%60;F=W(B/1E3)%60;ba=B%1E3}}wa=function(T){T>-1/0&&T<1/0?(K(T),T=(0>=z||1E4<=z?(0>z?"-":"+")+ma(6,0>z?-z:z):ma(4,z))+
"-"+ma(2,v+1)+"-"+ma(2,C)+"T"+ma(2,I)+":"+ma(2,n)+":"+ma(2,F)+"."+ma(3,ba)+"Z",z=v=C=I=n=F=ba=null):T=null;return T};return wa(q)};if(A("json-stringify")&&!A("date-serialization")){var Ia=function(q){return wa(this)},bb=y.stringify;y.stringify=function(q,z,v){var C=Q.prototype.toJSON;Q.prototype.toJSON=Ia;q=bb(q,z,v);Q.prototype.toJSON=C;return q}}else{var Va=function(q){q=q.charCodeAt(0);var z=Ua[q];return z?z:"\\u00"+ma(2,q.toString(16))},Ja=/[\x00-\x1f\x22\x5c]/g,Wa=function(q){Ja.lastIndex=0;
return'"'+(Ja.test(q)?q.replace(Ja,Va):q)+'"'},pa=function(q,z,v,C,B,I,n){var F,ba;x(function(){F=z[q]});"object"==typeof F&&F&&(F.getUTCFullYear&&"[object Date]"==da.call(F)&&F.toJSON===Q.prototype.toJSON?F=wa(F):"function"==typeof F.toJSON&&(F=F.toJSON(q)));v&&(F=v.call(z,q,F));if(F==fa)return F===fa?F:"null";var K=typeof F;"object"==K&&(ba=da.call(F));switch(ba||K){case "boolean":case "[object Boolean]":return""+F;case "number":case "[object Number]":return F>-1/0&&F<1/0?""+F:"null";case "string":case "[object String]":return Wa(""+
F)}if("object"==typeof F){for(K=n.length;K--;)if(n[K]===F)throw ka();n.push(F);var W=[];var ab=I;I+=B;if("[object Array]"==ba){var va=0;for(K=F.length;va<K;va++)ba=pa(va,F,v,C,B,I,n),W.push(ba===fa?"null":ba);K=W.length?B?"[\n"+I+W.join(",\n"+I)+"\n"+ab+"]":"["+W.join(",")+"]":"[]"}else ca(C||F,function(T){var ua=pa(T,F,v,C,B,I,n);ua!==fa&&W.push(Wa(T)+":"+(B?" ":"")+ua)}),K=W.length?B?"{\n"+I+W.join(",\n"+I)+"\n"+ab+"}":"{"+W.join(",")+"}":"{}";n.pop();return K}};y.stringify=function(q,z,v){var C;
if(d[typeof z]&&z){var B=da.call(z);if("[object Function]"==B)var I=z;else if("[object Array]"==B){var n={};for(var F=0,ba=z.length,K;F<ba;)if(K=z[F++],B=da.call(K),"[object String]"==B||"[object Number]"==B)n[K]=1}}if(v)if(B=da.call(v),"[object Number]"==B){if(0<(v-=v%1))for(10<v&&(v=10),C="";C.length<v;)C+=" "}else"[object String]"==B&&(C=10>=v.length?v:v.slice(0,10));return pa("",(K={},K[""]=q,K),I,n,C,"",[])}}}if(!A("json-parse")){var Xa=M.fromCharCode,Ka={92:"\\",34:'"',47:"/",98:"\b",116:"\t",
110:"\n",102:"\f",114:"\r"},E,ra,X=function(){E=ra=null;throw N();},qa=function(){for(var q=ra,z=q.length,v,C,B,I,n;E<z;)switch(n=q.charCodeAt(E),n){case 9:case 10:case 13:case 32:E++;break;case 123:case 125:case 91:case 93:case 58:case 44:return v=Aa?q.charAt(E):q[E],E++,v;case 34:v="@";for(E++;E<z;)if(n=q.charCodeAt(E),32>n)X();else if(92==n)switch(n=q.charCodeAt(++E),n){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:v+=Ka[n];E++;break;case 117:C=++E;for(B=E+4;E<B;E++)n=q.charCodeAt(E),
48<=n&&57>=n||97<=n&&102>=n||65<=n&&70>=n||X();v+=Xa("0x"+q.slice(C,E));break;default:X()}else{if(34==n)break;n=q.charCodeAt(E);for(C=E;32<=n&&92!=n&&34!=n;)n=q.charCodeAt(++E);v+=q.slice(C,E)}if(34==q.charCodeAt(E))return E++,v;X();default:C=E;45==n&&(I=!0,n=q.charCodeAt(++E));if(48<=n&&57>=n){for(48==n&&(n=q.charCodeAt(E+1),48<=n&&57>=n)&&X();E<z&&(n=q.charCodeAt(E),48<=n&&57>=n);E++);if(46==q.charCodeAt(E)){for(B=++E;B<z&&!(n=q.charCodeAt(B),48>n||57<n);B++);B==E&&X();E=B}n=q.charCodeAt(E);if(101==
n||69==n){n=q.charCodeAt(++E);43!=n&&45!=n||E++;for(B=E;B<z&&!(n=q.charCodeAt(B),48>n||57<n);B++);B==E&&X();E=B}return+q.slice(C,E)}I&&X();v=q.slice(E,E+4);if("true"==v)return E+=4,!0;if("fals"==v&&101==q.charCodeAt(E+4))return E+=5,!1;if("null"==v)return E+=4,null;X()}return"$"},Ba=function(q){var z;"$"==q&&X();if("string"==typeof q){if("@"==(Aa?q.charAt(0):q[0]))return q.slice(1);if("["==q){for(z=[];;){q=qa();if("]"==q)break;if(v)","==q?(q=qa(),"]"==q&&X()):X();else var v=!0;","==q&&X();z.push(Ba(q))}return z}if("{"==
q){for(z={};;){q=qa();if("}"==q)break;v?","==q?(q=qa(),"}"==q&&X()):X():v=!0;","!=q&&"string"==typeof q&&"@"==(Aa?q.charAt(0):q[0])&&":"==qa()||X();z[q.slice(1)]=Ba(qa())}return z}X()}return q},La=function(q,z,v){v=Ca(q,z,v);v===fa?delete q[z]:q[z]=v},Ca=function(q,z,v){var C=q[z],B;if("object"==typeof C&&C)if("[object Array]"==da.call(C))for(B=C.length;B--;)La(da,ca,C,B,v);else ca(C,function(I){La(C,I,v)});return v.call(q,z,C)};y.parse=function(q,z){var v;E=0;ra=""+q;q=Ba(qa());"$"!=qa()&&X();E=
ra=null;return z&&"[object Function]"==da.call(z)?Ca((v={},v[""]=q,v),"",z):q}}}y.runInContext=c;return y}var d={"function":!0,object:!0},f=d.object&&b&&!b.nodeType&&b,g=d[typeof window]&&window||this,h=f&&d.object&&a&&!a.nodeType&&"object"==typeof qb&&qb;!h||h.global!==h&&h.window!==h&&h.self!==h||(g=h);if(f)c(g,f);else{var m=g.JSON,p=g.JSON3,u=!1,w=c(g,g.JSON3={noConflict:function(){u||(u=!0,g.JSON=m,g.JSON3=p,m=p=null);return w}});g.JSON={parse:w.parse,stringify:w.stringify}}}).call(qb)}),cc=Ac;
t.prototype.set=function(a,b){var c=this._createValidKey(a);if(c)try{this.engine.setItem(c,Sb.stringify(b))}catch(d){c=!1;if(d.code)switch(d.code){case 22:c=!0;break;case 1014:"NS_ERROR_DOM_QUOTA_REACHED"===d.name&&(c=!0)}else-2147024882===d.number&&(c=!0);c&&(this._swapEngine(),this.set(a,b))}};t.prototype.get=function(a){try{var b=this.engine.getItem(this._createValidKey(a));return null===b?null:Sb.parse(b)}catch(c){return null}};t.prototype.getOriginalEngine=function(){return this.originalEngine};
t.prototype.remove=function(a){this.engine.removeItem(this._createValidKey(a))};t.prototype._createValidKey=function(a){var b=this.name,c=this.id;if(!Ta(this.keys).length)return[b,c,a].join(".");var d;za(function(f){f===a&&(d=[b,c,a].join("."))},this.keys);return d};t.prototype._swapEngine=function(){var a=this;za(function(b){var c=a.get(b);vb.setItem([a.name,a.id,b].join("."),c);a.remove(b)},this.keys);this.engine=vb};var jb=t,Tb={setTimeout:function(a,b){return window.setTimeout(a,b)},clearTimeout:function(a){return window.clearTimeout(a)},
Date:"undefined"!==typeof window?window.Date:Date},Ma=Tb;D.prototype.now=function(){return+new Ma.Date};D.prototype.run=function(a,b){var c=this.nextId++;this.tasks[c]=Ma.setTimeout(this._handle(c,a),b);return c};D.prototype.cancel=function(a){this.tasks[a]&&(Ma.clearTimeout(this.tasks[a]),delete this.tasks[a])};D.prototype.cancelAll=function(){za(Ma.clearTimeout,this.tasks);this.tasks={}};D.prototype._handle=function(a,b){var c=this;return function(){delete c.tasks[a];return b()}};D.setClock=function(a){Ma=
a};D.resetClock=function(){Ma=Tb};var dc=D;H.names=[];H.skips=[];H.enable=function(a){try{localStorage.debug=a}catch(f){}for(var b=(a||"").split(/[\s,]+/),c=b.length,d=0;d<c;d++)a=b[d].replace("*",".*?"),"-"===a[0]?H.skips.push(new RegExp("^"+a.substr(1)+"$")):H.names.push(new RegExp("^"+a+"$"))};H.disable=function(){H.enable("")};H.humanize=function(a){return 36E5<=a?(a/36E5).toFixed(1)+"h":6E4<=a?(a/6E4).toFixed(1)+"m":1E3<=a?(a/1E3|0)+"s":a+"ms"};H.enabled=function(a){for(var b=0,c=H.skips.length;b<
c;b++)if(H.skips[b].test(a))return!1;b=0;for(c=H.names.length;b<c;b++)if(H.names[b].test(a))return!0;return!1};try{window.localStorage&&H.enable(localStorage.debug)}catch(a){}var Ec=l(function(a){function b(c){if(c){for(var d in b.prototype)c[d]=b.prototype[d];return c}}a.exports=b;b.prototype.on=b.prototype.addEventListener=function(c,d){this._callbacks=this._callbacks||{};(this._callbacks["$"+c]=this._callbacks["$"+c]||[]).push(d);return this};b.prototype.once=function(c,d){function f(){this.off(c,
f);d.apply(this,arguments)}f.fn=d;this.on(c,f);return this};b.prototype.off=b.prototype.removeListener=b.prototype.removeAllListeners=b.prototype.removeEventListener=function(c,d){this._callbacks=this._callbacks||{};if(0==arguments.length)return this._callbacks={},this;var f=this._callbacks["$"+c];if(!f)return this;if(1==arguments.length)return delete this._callbacks["$"+c],this;for(var g,h=0;h<f.length;h++)if(g=f[h],g===d||g.fn===d){f.splice(h,1);break}return this};b.prototype.emit=function(c){this._callbacks=
this._callbacks||{};var d=[].slice.call(arguments,1),f=this._callbacks["$"+c];if(f){f=f.slice(0);for(var g=0,h=f.length;g<h;++g)f[g].apply(this,d)}return this};b.prototype.listeners=function(c){this._callbacks=this._callbacks||{};return this._callbacks["$"+c]||[]};b.prototype.hasListeners=function(c){return!!this.listeners(c).length}}),Cb=Sa.v4,Fc=H("localstorage-retry");Ec(Y.prototype);Y.prototype.start=function(){this._running&&this.stop();this._running=!0;this._ack();this._checkReclaim();this._processHead()};
Y.prototype.stop=function(){this._schedule.cancelAll();this._running=!1};Y.prototype.shouldRetry=function(a,b){return b>this.maxAttempts?!1:!0};Y.prototype.getDelay=function(a){a=this.backoff.MIN_RETRY_DELAY*Math.pow(this.backoff.FACTOR,a);if(this.backoff.JITTER){var b=Math.random(),c=Math.floor(b*this.backoff.JITTER*a);a=5>Math.floor(10*b)?a-c:a+c}return Number(Math.min(a,this.backoff.MAX_RETRY_DELAY).toPrecision(1))};Y.prototype.addItem=function(a){this._enqueue({item:a,attemptNumber:0,time:this._schedule.now()})};
Y.prototype.requeue=function(a,b,c){this.shouldRetry(a,b,c)?this._enqueue({item:a,attemptNumber:b,time:this._schedule.now()+this.getDelay(b)}):this.emit("discard",a,b)};Y.prototype._enqueue=function(a){var b=this._store.get(this.keys.QUEUE)||[];b=b.slice(-(this.maxItems-1));b.push(a);b=b.sort(function(c,d){return c.time-d.time});this._store.set(this.keys.QUEUE,b);this._running&&this._processHead()};Y.prototype._processHead=function(){function a(w,r){h.push({item:w.item,done:function(y,x){var A=c.get(b.keys.IN_PROGRESS)||
{};delete A[r];c.set(b.keys.IN_PROGRESS,A);b.emit("processed",y,x,w.item);y&&b.requeue(w.item,w.attemptNumber+1,y)}})}var b=this,c=this._store;this._schedule.cancel(this._processId);for(var d=c.get(this.keys.QUEUE)||[],f=c.get(this.keys.IN_PROGRESS)||{},g=this._schedule.now(),h=[],m=Object.keys(f).length;d.length&&d[0].time<=g&&m++<b.maxItems;){var p=d.shift(),u=Cb();f[u]={item:p.item,attemptNumber:p.attemptNumber,time:b._schedule.now()};a(p,u)}c.set(this.keys.QUEUE,d);c.set(this.keys.IN_PROGRESS,
f);za(function(w){try{b.fn(w.item,w.done)}catch(r){Fc("Process function threw error: "+r)}},h);d=c.get(this.keys.QUEUE)||[];this._schedule.cancel(this._processId);0<d.length&&(this._processId=this._schedule.run(this._processHead,d[0].time-g))};Y.prototype._ack=function(){this._store.set(this.keys.ACK,this._schedule.now());this._store.set(this.keys.RECLAIM_START,null);this._store.set(this.keys.RECLAIM_END,null);this._schedule.run(this._ack,this.timeouts.ACK_TIMER)};Y.prototype._checkReclaim=function(){function a(c){c.set(b.keys.RECLAIM_START,
b.id);c.set(b.keys.ACK,b._schedule.now());b._schedule.run(function(){c.get(b.keys.RECLAIM_START)===b.id&&(c.set(b.keys.RECLAIM_END,b.id),b._schedule.run(function(){c.get(b.keys.RECLAIM_END)===b.id&&c.get(b.keys.RECLAIM_START)===b.id&&b._reclaim(c.id)},b.timeouts.RECLAIM_WAIT))},b.timeouts.RECLAIM_WAIT)}var b=this;za(function(c){c.id!==b.id&&(b._schedule.now()-c.get(b.keys.ACK)<b.timeouts.RECLAIM_TIMEOUT||a(c))},function(c){for(var d=[],f=b._store.getOriginalEngine(),g=0;g<f.length;g++){var h=f.key(g).split(".");
3===h.length&&h[0]===c&&"ack"===h[2]&&d.push(new jb(c,h[1],b.keys))}return d}(this.name));this._schedule.run(this._checkReclaim,this.timeouts.RECLAIM_TIMER)};Y.prototype._reclaim=function(a){var b=this;a=new jb(this.name,a,this.keys);var c=this._store.get(this.keys.QUEUE)||[],d=a.get(this.keys.IN_PROGRESS)||{},f=a.get(this.keys.QUEUE)||[];za(function(g){c.push({item:g.item,attemptNumber:g.attemptNumber,time:b._schedule.now()})},f);za(function(g){c.push({item:g.item,attemptNumber:g.attemptNumber+1,
time:b._schedule.now()})},d);c=c.sort(function(g,h){return g.time-h.time});this._store.set(this.keys.QUEUE,c);a.remove(this.keys.IN_PROGRESS);a.remove(this.keys.QUEUE);a.remove(this.keys.RECLAIM_START);a.remove(this.keys.RECLAIM_END);a.remove(this.keys.ACK);this._processHead()};var xa=!1,Da=!1;if("undefined"===typeof window){var Ub={hostname:""};var O={navigator:{userAgent:""},document:{location:Ub,referrer:""},screen:{width:0,height:0},location:Ub}}else O=window;var cb=Array.prototype,Gc=Function.prototype,
Vb=Object.prototype,Na=cb.slice,Ya=Vb.toString,db=Vb.hasOwnProperty,ja=O.console,Ea=O.navigator,P=O.document,Za=O.opera,eb=O.screen,aa=Ea.userAgent;var Hc=aa&&-1!==Ea.userAgent.indexOf("Mobi")?"Mobile":"Desktop";var wb=Gc.bind,Wb=cb.map,Xb=cb.forEach,Yb=cb.indexOf,Ic=Array.isArray,xb={},Zb=/[a-z0-9][a-z0-9\-]+\.[a-z\.]{2,6}$/i,e={trim:function(a){return a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},yb=function(){this.events=[]};yb.prototype.logEvent=function(a,b){var c=[];e.each(b,function(d){try{var f=
JSON.stringify(d)}catch(g){f=String(d)}c.push(f)});b=c.join(" ");this.events.push({timestamp:(new Date).getTime(),level:a,url:window.location.href,message:b})};yb.prototype.getLogLines=function(){var a=[];e.each(this.events,function(b){a.push(b.timestamp+":"+b.level+":"+b.url+" 0:0 "+b.message)});return a};var fb=new yb,G={log:function(){Da&&fb.logEvent("INFO",arguments);if(xa&&!e.isUndefined(ja)&&ja)try{ja.log.apply(ja,arguments)}catch(a){e.each(arguments,function(b){ja.log(b)})}},error:function(){if(Da||
xa&&!e.isUndefined(ja)&&ja){var a=["Freshpaint error:"].concat(e.toArray(arguments));if(Da)fb.logEvent("SEVERE",a);else try{ja.error.apply(ja,a)}catch(b){e.each(a,function(c){ja.error(c)})}}},critical:function(){if(Da||!e.isUndefined(ja)&&ja){var a=["Freshpaint error:"].concat(e.toArray(arguments));if(Da)fb.logEvent("SEVERE",a);else try{ja.error.apply(ja,a)}catch(b){e.each(a,function(c){ja.error(c)})}}}};e.bind=function(a,b){var c;if(wb&&a.bind===wb)return wb.apply(a,Na.call(arguments,1));if(!e.isFunction(a))throw new TypeError;
var d=Na.call(arguments,2);return c=function(){if(!(this instanceof c))return a.apply(b,d.concat(Na.call(arguments)));var f={};f.prototype=a.prototype;var g=new f;f.prototype=null;f=a.apply(g,d.concat(Na.call(arguments)));return Object(f)===f?f:g}};e.bind_instance_methods=function(a){for(var b in a)"function"===typeof a[b]&&(a[b]=e.bind(a[b],a))};e.each=function(a,b,c){if(null!==a&&void 0!==a)if(Xb&&a.forEach===Xb)a.forEach(b,c);else if(a.length===+a.length)for(var d=0,f=a.length;d<f&&!(d in a&&b.call(c,
a[d],d,a)===xb);d++);else for(d in a)if(db.call(a,d)&&b.call(c,a[d],d,a)===xb)break};e.escapeHTML=function(a){a&&e.isString(a)&&(a=a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"));return a};e.extend=function(a){e.each(Na.call(arguments,1),function(b){for(var c in b)void 0!==b[c]&&(a[c]=b[c])});return a};e.isArray=Ic||function(a){return"[object Array]"===Ya.call(a)};e.isFunction=function(a){try{return/^\s*\bfunction\b/.test(a)}catch(b){return!1}};
e.isArguments=function(a){return!(!a||!db.call(a,"callee"))};e.toArray=function(a){return a?a.toArray?a.toArray():e.isArray(a)||e.isArguments(a)?Na.call(a):e.values(a):[]};e.keys=function(a){var b=[];if(null===a)return b;e.each(a,function(c,d){b[b.length]=d});return b};e.values=function(a){var b=[];if(null===a)return b;e.each(a,function(c){b[b.length]=c});return b};e.identity=function(a){return a};e.include=function(a,b){var c=!1;if(null===a)return c;if(Yb&&a.indexOf===Yb)return-1!=a.indexOf(b);e.each(a,
function(d){if(c||(c=d===b))return xb});return c};e.includes=function(a,b){return-1!==a.indexOf(b)};e.inherit=function(a,b){a.prototype=new b;a.prototype.constructor=a;a.superclass=b.prototype;return a};e.isObject=function(a){return a===Object(a)&&!e.isArray(a)};e.isEmptyObject=function(a){if(e.isObject(a)){for(var b in a)if(db.call(a,b))return!1;return!0}return!1};e.isUndefined=function(a){return void 0===a};e.isString=function(a){return"[object String]"==Ya.call(a)};e.isDate=function(a){return"[object Date]"==
Ya.call(a)};e.isNumber=function(a){return"[object Number]"==Ya.call(a)};e.isElement=function(a){return!(!a||1!==a.nodeType)};e.encodeDates=function(a){e.each(a,function(b,c){e.isDate(b)?a[c]=e.formatDate(b):e.isObject(b)&&(a[c]=e.encodeDates(b))});return a};e.timestamp=function(){Date.now=Date.now||function(){return+new Date};return Date.now()};e.formatDate=function(a){function b(c){return 10>c?"0"+c:c}return a.getUTCFullYear()+"-"+b(a.getUTCMonth()+1)+"-"+b(a.getUTCDate())+"T"+b(a.getUTCHours())+
":"+b(a.getUTCMinutes())+":"+b(a.getUTCSeconds())};e.safewrap=function(a){return function(){try{return a.apply(this,arguments)}catch(b){G.critical("Implementation error. Please turn on debug and contact support@freshpaint.io."),xa&&G.critical(b)}}};e.safewrap_class=function(a,b){for(var c=0;c<b.length;c++)a.prototype[b[c]]=e.safewrap(a.prototype[b[c]])};e.safewrap_instance_methods=function(a){for(var b in a)"function"===typeof a[b]&&(a[b]=e.safewrap(a[b]))};e.strip_empty_properties=function(a){var b=
{};e.each(a,function(c,d){e.isString(c)&&0<c.length&&(b[d]=c)});return b};e.truncate=function(a,b){if("string"===typeof a)var c=a.slice(0,b);else e.isArray(a)?(c=[],e.each(a,function(d){c.push(e.truncate(d,b))})):e.isObject(a)?(c={},e.each(a,function(d,f){var g=b;"$ttclid"===f&&(g=1E3);c[f]=e.truncate(d,g)})):c=a;return c};e.JSONEncode=function(){return function(a){var b=function(d){var f=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
g={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};f.lastIndex=0;return f.test(d)?'"'+d.replace(f,function(h){var m=g[h];return"string"===typeof m?m:"\\u"+("0000"+h.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+d+'"'},c=function(d,f){var g="";var h="";var m=g;(f=f[d])&&"object"===typeof f&&"function"===typeof f.toJSON&&(f=f.toJSON(d));switch(typeof f){case "string":return b(f);case "number":return isFinite(f)?String(f):"null";case "boolean":case "null":return String(f);
case "object":if(!f)return"null";g+="    ";d=[];if("[object Array]"===Ya.apply(f)){var p=f.length;for(h=0;h<p;h+=1)d[h]=c(h,f)||"null";return p=0===d.length?"[]":g?"[\n"+g+d.join(",\n"+g)+"\n"+m+"]":"["+d.join(",")+"]"}for(h in f)db.call(f,h)&&(p=c(h,f))&&d.push(b(h)+(g?": ":":")+p);return p=0===d.length?"{}":g?"{"+d.join(",")+m+"}":"{"+d.join(",")+"}"}};return c("",{"":a})}}();e.JSONDecode=function(){var a,b,c={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},d,f=function(r){r=new SyntaxError(r);
r.at=a;r.text=d;throw r;},g=function(r){r&&r!==b&&f("Expected '"+r+"' instead of '"+b+"'");b=d.charAt(a);a+=1;return b},h=function(){var r="";"-"===b&&(r="-",g("-"));for(;"0"<=b&&"9">=b;)r+=b,g();if("."===b)for(r+=".";g()&&"0"<=b&&"9">=b;)r+=b;if("e"===b||"E"===b){r+=b;g();if("-"===b||"+"===b)r+=b,g();for(;"0"<=b&&"9">=b;)r+=b,g()}r=+r;if(isFinite(r))return r;f("Bad number")},m=function(){var r,y="",x;if('"'===b)for(;g();){if('"'===b)return g(),y;if("\\"===b)if(g(),"u"===b){for(r=x=0;4>r;r+=1){var A=
parseInt(g(),16);if(!isFinite(A))break;x=16*x+A}y+=String.fromCharCode(x)}else if("string"===typeof c[b])y+=c[b];else break;else y+=b}f("Bad string")},p=function(){for(;b&&" ">=b;)g()},u=function(){switch(b){case "t":return g("t"),g("r"),g("u"),g("e"),!0;case "f":return g("f"),g("a"),g("l"),g("s"),g("e"),!1;case "n":return g("n"),g("u"),g("l"),g("l"),null}f('Unexpected "'+b+'"')};var w=function(){p();switch(b){case "{":a:{var r={};if("{"===b){g("{");p();if("}"===b){g("}");var y=r;break a}for(;b;){y=
m();p();g(":");Object.hasOwnProperty.call(r,y)&&f('Duplicate key "'+y+'"');r[y]=w();p();if("}"===b){g("}");y=r;break a}g(",");p()}}f("Bad object");y=void 0}return y;case "[":a:{y=[];if("["===b){g("[");p();if("]"===b){g("]");break a}for(;b;){y.push(w());p();if("]"===b){g("]");break a}g(",");p()}}f("Bad array");y=void 0}return y;case '"':return m();case "-":return h();default:return"0"<=b&&"9">=b?h():u()}};return function(r){d=r;a=0;b=" ";r=w();p();b&&f("Syntax error");return r}}();e.base64Encode=function(a){var b=
0,c=0,d=[];if(!a)return a;a=e.utf8Encode(a);do{var f=a.charCodeAt(b++);var g=a.charCodeAt(b++);var h=a.charCodeAt(b++);var m=f<<16|g<<8|h;f=m>>18&63;g=m>>12&63;h=m>>6&63;m&=63;d[c++]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(f)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(g)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(h)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(m)}while(b<
a.length);b=d.join("");switch(a.length%3){case 1:b=b.slice(0,-2)+"==";break;case 2:b=b.slice(0,-1)+"="}return b};e.utf8Encode=function(a){a=(a+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n");var b="",c,d;var f=c=0;var g=a.length;for(d=0;d<g;d++){var h=a.charCodeAt(d),m=null;128>h?c++:m=127<h&&2048>h?String.fromCharCode(h>>6|192,h&63|128):String.fromCharCode(h>>12|224,h>>6&63|128,h&63|128);null!==m&&(c>f&&(b+=a.substring(f,c)),b+=m,f=c=d+1)}c>f&&(b+=a.substring(f,a.length));return b};e.UUID=function(){var a=
function(){for(var c=1*new Date,d=0;c==1*new Date;)d++;return c.toString(16)+d.toString(16)},b=function(){function c(m,p){var u,w=0;for(u=0;u<p.length;u++)w|=f[u]<<8*u;return m^w}var d,f=[],g=0;for(d=0;d<aa.length;d++){var h=aa.charCodeAt(d);f.unshift(h&255);4<=f.length&&(g=c(g,f),f=[])}0<f.length&&(g=c(g,f));return g.toString(16)};return function(){var c=(eb.height*eb.width).toString(16);return a()+"-"+Math.random().toString(16).replace(".","")+"-"+b()+"-"+c+"-"+a()}}();e.isBlockedUA=function(a){return/(google web preview|baiduspider|yandexbot|bingbot|googlebot|yahoo! slurp)/i.test(a)?
!0:!1};e.HTTPBuildQuery=function(a,b){var c,d,f=[];e.isUndefined(b)&&(b="&");e.each(a,function(g,h){c=encodeURIComponent(g.toString());d=encodeURIComponent(h);f[f.length]=d+"="+c});return f.join(b)};e.getQueryParam=function(a,b){b=b.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");a=(new RegExp("[\\?&]"+b+"=([^&#]*)")).exec(a);return null===a||a&&"string"!==typeof a[1]&&a[1].length?"":decodeURIComponent(a[1]).replace(/\+/g," ")};e.getHashParam=function(a,b){return(a=a.match(new RegExp(b+"=([^&]*)")))?
a[1]:null};e.cloneObject=function(a){if(null===a||"object"!==typeof a)return a;if(e.isArray(a)){var b=[];a.forEach(function(f){b.push(e.cloneObject(f))});return b}var c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=e.cloneObject(a[d]));return c};e.lookupIterator=function(a){return e.isFunction(a)?a:function(b){return b[a]}};e.pluck=function(a,b){return e.map(a,function(c){return c[b]})};e.map=e.collect=function(a,b,c){var d=[];if(null==a)return d;if(Wb&&a.map===Wb)return a.map(b,c);e.each(a,function(f,
g,h){d.push(b.call(c,f,g,h))});return d};e.sortBy=function(a,b,c){var d=e.lookupIterator(b);return e.pluck(e.map(a,function(f,g,h){return{value:f,index:g,criteria:d.call(c,f,g,h)}}).sort(function(f,g){var h=f.criteria,m=g.criteria;if(h!==m){if(h>m||void 0===h)return 1;if(h<m||void 0===m)return-1}return f.index-g.index}),"value")};e.cookie={get:function(a){a+="=";for(var b=P.cookie.split(";"),c=0;c<b.length;c++){for(var d=b[c];" "==d.charAt(0);)d=d.substring(1,d.length);if(0===d.indexOf(a))return decodeURIComponent(d.substring(a.length,
d.length))}return null},parse:function(a){try{var b=e.JSONDecode(e.cookie.get(a))||{}}catch(c){}return b},set_seconds:function(a,b,c,d,f){var g="",h="",m="";d&&(g=(g=(g=P.location.hostname.match(Zb))?g[0]:"")?"; domain=."+g:"");c&&(h=new Date,h.setTime(h.getTime()+1E3*c),h="; expires="+h.toGMTString());f&&(m="; secure");P.cookie=a+"="+encodeURIComponent(b)+h+"; path=/"+g+m},set:function(a,b,c,d,f){var g="",h="",m="";d&&(g=(g=(g=P.location.hostname.match(Zb))?g[0]:"")?"; domain=."+g:"");c&&(h=new Date,
h.setTime(h.getTime()+864E5*c),h="; expires="+h.toGMTString());f&&(m="; secure");a=a+"="+encodeURIComponent(b)+h+"; path=/"+g+m;return P.cookie=a},remove:function(a,b){e.cookie.set(a,"",-1,b)}};var zb=null;e.localStorage={is_supported:function(){if(null!==zb)return zb;var a=!0;try{e.localStorage.set("__mplssupport__","xyz"),"xyz"!==e.localStorage.get("__mplssupport__")&&(a=!1),e.localStorage.remove("__mplssupport__")}catch(b){a=!1}a||G.error("localStorage unsupported; falling back to cookie store");
return zb=a},error:function(a){G.error("localStorage error: "+a)},get:function(a){try{return window.localStorage.getItem(a)}catch(b){e.localStorage.error(b)}return null},parse:function(a){try{return e.JSONDecode(e.localStorage.get(a))||{}}catch(b){}return null},set:function(a,b){try{window.localStorage.setItem(a,b)}catch(c){e.localStorage.error(c)}},remove:function(a){try{window.localStorage.removeItem(a)}catch(b){e.localStorage.error(b)}}};e.register_event=function(){function a(c,d,f){return function(g){if(g=
g||b(window.event)){var h=!0,m;e.isFunction(f)&&(m=f(g));g=d.call(c,g);if(!1===m||!1===g)h=!1;return h}}}function b(c){c&&(c.preventDefault=b.preventDefault,c.stopPropagation=b.stopPropagation);return c}b.preventDefault=function(){this.returnValue=!1};b.stopPropagation=function(){this.cancelBubble=!0};return function(c,d,f,g,h){c?c.addEventListener&&!g?c.addEventListener(d,f,!!h):(d="on"+d,c[d]=a(c,f,c[d])):G.error("No valid element provided to register_event")}}();var Jc=/^(\w*)\[(\w+)([=~\|\^\$\*]?)=?"?([^\]"]*)"?\]$/;
e.dom_query=function(){function a(f){return f.all?f.all:f.getElementsByTagName("*")}function b(f,g){g=" "+g+" ";return 0<=(" "+f.className+" ").replace(d," ").indexOf(g)}function c(f){if(!P.getElementsByTagName)return[];f=f.split(" ");var g,h,m,p,u=[P];for(h=0;h<f.length;h++){var w=f[h].replace(/^\s+/,"").replace(/\s+$/,"");if(-1<w.indexOf("#")){var r=w.split("#");w=r[0];u=P.getElementById(r[1]);if(!u||w&&u.nodeName.toLowerCase()!=w)return[];u=[u]}else if(-1<w.indexOf(".")){r=w.split(".");w=r[0];
var y=r[1];w||(w="*");r=[];for(m=g=0;m<u.length;m++){var x="*"==w?a(u[m]):u[m].getElementsByTagName(w);for(p=0;p<x.length;p++)r[g++]=x[p]}u=[];for(m=w=0;m<r.length;m++)r[m].className&&e.isString(r[m].className)&&b(r[m],y)&&(u[w++]=r[m])}else if(r=w.match(Jc)){w=r[1];var A=r[2];y=r[3];var L=r[4];w||(w="*");r=[];for(m=g=0;m<u.length;m++)for(x="*"==w?a(u[m]):u[m].getElementsByTagName(w),p=0;p<x.length;p++)r[g++]=x[p];u=[];w=0;switch(y){case "=":y=function(M){return M.getAttribute(A)==L};break;case "~":y=
function(M){return M.getAttribute(A).match(new RegExp("\\b"+L+"\\b"))};break;case "|":y=function(M){return M.getAttribute(A).match(new RegExp("^"+L+"-?"))};break;case "^":y=function(M){return 0===M.getAttribute(A).indexOf(L)};break;case "$":y=function(M){return M.getAttribute(A).lastIndexOf(L)==M.getAttribute(A).length-L.length};break;case "*":y=function(M){return-1<M.getAttribute(A).indexOf(L)};break;default:y=function(M){return M.getAttribute(A)}}u=[];for(m=w=0;m<r.length;m++)y(r[m])&&(u[w++]=r[m])}else{r=
[];for(m=g=0;m<u.length;m++)for(x=u[m].getElementsByTagName(w),p=0;p<x.length;p++)r[g++]=x[p];u=r}}return u}var d=/[\t\r\n]/g;return function(f){return e.isElement(f)?[f]:e.isObject(f)&&!e.isUndefined(f.length)?f:c.call(this,f)}}();e.info={campaign_keywords:["utm_source","utm_medium","utm_campaign","utm_content","utm_term"],campaignParams:function(){var a="",b={};e.each(this.campaign_keywords,function(c){a=e.getQueryParam(P.URL,c);a.length&&(b[c]=a)});return b},ad_ids:"gclid twclid clid_src msclkid fbclid ttclid".split(" "),
advertisingParams:function(){var a="",b={};e.each(this.ad_ids,function(c){a=e.getQueryParam(P.URL,c);a.length&&(b["$"+c]=a,"fbclid"===c&&(b.$fbclid_creation_time=Date.now()))});return b},searchEngine:function(a){return 0===a.search("https?://(.*)google.([^/?]*)")?"google":0===a.search("https?://(.*)bing.com")?"bing":0===a.search("https?://(.*)yahoo.com")?"yahoo":0===a.search("https?://(.*)duckduckgo.com")?"duckduckgo":null},searchInfo:function(a){var b=e.info.searchEngine(a),c={};null!==b&&(c.$search_engine=
b,a=e.getQueryParam(a,"yahoo"!=b?"q":"p"),a.length&&(c.mp_keyword=a));return c},browser:function(a,b,c){b=b||"";return c||e.includes(a," OPR/")?e.includes(a,"Mini")?"Opera Mini":"Opera":/(BlackBerry|PlayBook|BB10)/i.test(a)?"BlackBerry":e.includes(a,"IEMobile")||e.includes(a,"WPDesktop")?"Internet Explorer Mobile":e.includes(a,"Edge")?"Microsoft Edge":e.includes(a,"FBIOS")?"Facebook Mobile":e.includes(a,"Chrome")?"Chrome":e.includes(a,"CriOS")?"Chrome iOS":e.includes(a,"UCWEB")||e.includes(a,"UCBrowser")?
"UC Browser":e.includes(a,"FxiOS")?"Firefox iOS":e.includes(b,"Apple")?e.includes(a,"Mobile")?"Mobile Safari":"Safari":e.includes(a,"Android")?"Android Mobile":e.includes(a,"Konqueror")?"Konqueror":e.includes(a,"Firefox")?"Firefox":e.includes(a,"MSIE")||e.includes(a,"Trident/")?"Internet Explorer":e.includes(a,"Gecko")?"Mozilla":""},browserVersion:function(a,b,c){b={"Internet Explorer Mobile":/rv:(\d+(\.\d+)?)/,"Microsoft Edge":/Edge\/(\d+(\.\d+)?)/,Chrome:/Chrome\/(\d+(\.\d+)?)/,"Chrome iOS":/CriOS\/(\d+(\.\d+)?)/,
"UC Browser":/(UCBrowser|UCWEB)\/(\d+(\.\d+)?)/,Safari:/Version\/(\d+(\.\d+)?)/,"Mobile Safari":/Version\/(\d+(\.\d+)?)/,Opera:/(Opera|OPR)\/(\d+(\.\d+)?)/,Firefox:/Firefox\/(\d+(\.\d+)?)/,"Firefox iOS":/FxiOS\/(\d+(\.\d+)?)/,Konqueror:/Konqueror:(\d+(\.\d+)?)/,BlackBerry:/BlackBerry (\d+(\.\d+)?)/,"Android Mobile":/android\s(\d+(\.\d+)?)/,"Internet Explorer":/(rv:|MSIE )(\d+(\.\d+)?)/,Mozilla:/rv:(\d+(\.\d+)?)/}[e.info.browser(a,b,c)];return void 0===b?null:(a=a.match(b))?parseFloat(a[a.length-2]):
null},os:function(){return/Windows/i.test(aa)?/Phone/.test(aa)||/WPDesktop/.test(aa)?"Windows Phone":"Windows":/(iPhone|iPad|iPod)/.test(aa)?"iOS":/Android/.test(aa)?"Android":/(BlackBerry|PlayBook|BB10)/i.test(aa)?"BlackBerry":/Mac/i.test(aa)?"Mac OS X":/Linux/.test(aa)?"Linux":/CrOS/.test(aa)?"Chrome OS":""},device:function(a){return/Windows Phone/i.test(a)||/WPDesktop/.test(a)?"Windows Phone":/iPad/.test(a)?"iPad":/iPod/.test(a)?"iPod Touch":/iPhone/.test(a)?"iPhone":/(BlackBerry|PlayBook|BB10)/i.test(a)?
"BlackBerry":/Android/.test(a)?"Android":""},referringDomain:function(a){a=a.split("/");return 3<=a.length?a[2]:""},properties:function(){return e.extend(e.strip_empty_properties({$os:e.info.os(),$browser:e.info.browser(aa,Ea.vendor,Za),$referrer:P.referrer,$referring_domain:e.info.referringDomain(P.referrer),$device:e.info.device(aa),$title:P.title}),{$host:window.location.host,$pathname:O.location.pathname,$current_url:O.location.href,$browser_version:e.info.browserVersion(aa,Ea.vendor,Za),$screen_height:eb.height,
$screen_width:eb.width,mp_lib:"web",$device_type:Hc,$lib_version:"1.3.0",$user_agent:aa,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),time:e.timestamp()/1E3})},people_properties:function(){return e.extend(e.strip_empty_properties({$os:e.info.os(),$browser:e.info.browser(aa,Ea.vendor,Za)}),{$browser_version:e.info.browserVersion(aa,Ea.vendor,Za)})},pageviewInfo:function(a){return e.strip_empty_properties({mp_page:a,mp_referrer:P.referrer,mp_browser:e.info.browser(aa,
Ea.vendor,Za),mp_platform:e.info.os()})}};e.jqLookup=function(a,b){b=b.split(".");for(var c=1;c<b.length&&(a=a[b[c]],void 0!==a);c++);return a};e.toArray=e.toArray;e.isObject=e.isObject;e.JSONEncode=e.JSONEncode;e.JSONDecode=e.JSONDecode;e.isBlockedUA=e.isBlockedUA;e.isEmptyObject=e.isEmptyObject;e.info=e.info;e.info.device=e.info.device;e.info.browser=e.info.browser;e.info.properties=e.info.properties;var na={_initializedTokens:[],_previousElementSibling:function(a){if(a.previousElementSibling)return a.previousElementSibling;
do a=a.previousSibling;while(a&&(!a||1!==a.nodeType));return a},_loadScript:function(a,b){var c=document.createElement("script");c.type="text/javascript";c.src=a;c.onload=b;a=document.getElementsByTagName("script");0<a.length?a[0].parentNode.insertBefore(c,a[0]):document.body.appendChild(c)},_getPropertiesFromElement:function(a,b){var c="";"object"!==typeof b.id&&"function"!==typeof b.id&&(c=b.id);var d={attr__class:oa(b),tag_name:b.tagName.toLowerCase(),attr__id:c};"5a690268-f2da-4301-ab9f-c8f5284ba3f2"===
a.get_config("token")&&b.attributes["data-testid"]&&(d["attr__data-testid"]=b.attributes["data-testid"].value);({"108c1db4-c74b-45bc-91f7-b8421bce7a07":!0,"10990a3d-da0b-4f29-a2cd-2d6861767cc6":!0,"15d95e6b-60d2-4203-80f2-42131397de15":!0,"18505fed-178a-4a94-b97c-eeeed7bc80a4":!0,"258da091-52c6-4a05-a332-5e6607df42cb":!0,"29563612-1f51-4f19-8bd4-b0ff10423c19":!0,"3e5f0bb6-2970-4de0-b9cc-79735040dfc5":!0,"5a16aa72-fb64-4006-a3be-7cce5aefc69a":!0,"6396e738-10fe-4c36-9278-7beb15d03984":!0,"6cdf86ab-e124-4479-9b25-d37fafbfe3df":!0,
"82260f08-cd00-4476-ba6f-023dfa05df7d":!0,"b24263ba-9733-456e-b763-6c8e9ef08218":!0,"cbf6d4a6-145b-4dc4-8ac1-9f72e4f6290d":!0,"ce231951-67be-4d6d-819c-fb97a5709bb4":!0,"e9932d9e-008d-42eb-aaf1-abc5e0e33a70":!0,"f67b439d-60b9-433f-9837-5bab2d0621bb":!0,"00000000-1234-1234-1234-000000000000":!0})[a.get_config("token")]&&b.attributes["data-inputid"]&&(d["attr__data-inputid"]=b.attributes["data-inputid"].value);try{Db(b)&&e.each(b.attributes,function(h){a._elementAttributesWhitelist[h.name]&&Qa(h.value)&&
(d["attr__"+h.name]=h.value)})}catch(h){G.error("Error collecting attributes. Continuing anyway.",h)}for(var f=c=1,g=b;g=this._previousElementSibling(g);)c++,g.tagName===b.tagName&&f++;d.nth_child=c;d.nth_of_type=f;return d},_getDefaultProperties:function(a){return{$event_type:a,$ce_version:1}},_extractCustomPropertyValue:function(a){var b=[];e.each(document.querySelectorAll(a.value),function(c){var d;-1<["input","select"].indexOf(c.tagName.toLowerCase())?d="checkbox"===c.getAttribute("type")?c.checked:
c.value:c.textContent&&(d=c.textContent);Qa(d)&&b.push(d)});return b.join(", ")},_getCustomProperties:function(a){var b={};e.each(this._customProperties,function(c){e.each(c.event_selectors,function(d){d=document.querySelectorAll(d);e.each(d,function(f){e.includes(a,f)&&Pa(f)&&(b[c.name]=this._extractCustomPropertyValue(c))},this)},this)},this);return b},_getEventTarget:function(a){return a.composedPath&&"function"===typeof a.composedPath?a.composedPath()[0]:"undefined"===typeof a.target?a.srcElement:
a.target},_trackEvent:function(a,b){var c=this._getEventTarget(a);c&&3===c.nodeType&&(c=c.parentNode);if(ic(c,a)){var d=jc(c),f=[],g,h=!1;e.each(d,function(w){var r=Pa(w);ya(w,"a")&&(g=w.getAttribute("href"),g=r&&Qa(g)&&g);r=oa(w).split(" ");e.includes(r,"fp-no-track")&&(h=!0);f.push(this._getPropertiesFromElement(b,w))},this);if(h)return!1;var m,p=ec(c);p&&p.length&&!b.get_config("disable_target_text_capture")&&(m=p);var u;(c=fc(c))&&c.length&&!b.get_config("disable_target_text_capture")&&(u=c);
d=e.extend({},this._getDefaultProperties(a.type),{$elements:f,$el_attr__href:g,$el_text:m,$el_nested_text:u},this._getCustomProperties(d));b._processEvent("$web_event",a,{},d);return!0}},_navigate:function(a){window.location.href=a},_interceptFunction:function(a,b,c){var d=a[b];a[b]=function(){var f=d.apply(a,arguments);c();return f}},_addNetworkEventHandlers:function(a){function b(d){d=d.split("\r\n");""===d[d.length-1]&&d.pop();var f={};d.forEach(function(g){var h=g.indexOf(":");if(-1!==h){var m=
g.slice(h+1).trim();""!==m&&(g=g.slice(0,h),f[g]=m)}});return f}if(!a._networkCaptureInitialized){a._networkCaptureInitialized=!0;var c=new WeakMap;(function(d){var f=this,g=XMLHttpRequest.prototype.open,h=XMLHttpRequest.prototype.send,m=XMLHttpRequest.prototype.setRequestHeader;-1!==g.toString().indexOf("native code")&&(XMLHttpRequest.prototype.open=function(){d.onOpen&&d.onOpen(this,a,arguments);d.onLoad&&this.addEventListener("load",d.onLoad.bind(d));d.onError&&this.addEventListener("error",d.onError.bind(d));
return g.apply(this,arguments)},XMLHttpRequest.prototype.send=function(){d.onSend&&d.onSend(this,arguments);return h.apply(this,arguments)},XMLHttpRequest.prototype.setRequestHeader=function(){d.onSetRequestHeader&&d.onSetRequestHeader(this,arguments);return m.apply(this,arguments)});if(-1!==(window.fetch||"").toString().indexOf("native code")){var p=window.fetch;window.fetch=function(u){for(var w=[],r=0;r<arguments.length;++r)w[r-0]=arguments[r];var y,x,A,L,M,R,Q,N,ka,Z,da,ta,fa,la,Aa,ca,Ua,ma,wa,
Ia,bb,Va,Ja,Wa,pa,Xa,Ka,E,ra,X,qa,Ba,La,Ca,q,z,v,C,B,I;return $jscomp.asyncExecutePromiseGeneratorProgram(function(n){switch(n.nextAddress){case 1:y=$jscomp.makeIterator(w);x=y.next().value;A=y.next().value;L=x instanceof Request?x.url:x;na._inBlockList(a,L)?M=!0:(R=a._allowList.filter(function(F){return F.isApplicableTo(L)}),M=0===R.length);if(!M){n.jumpTo(2);break}return n.yield(p(x,A),3);case 3:return n.return(n.yieldResult);case 2:if(x instanceof Request)try{Q=x.clone()}catch(F){G.error("Error cloning resource: "+
F)}return n.yield(p(x,A),4);case 4:N=n.yieldResult;n.setCatchFinallyBlocks(5,6);Z={};Q?(ka=A&&A.method?A.method:Q.method,A&&A.headers?Z=A.headers:Q.headers&&(Z=Q.headers)):(ka=A.method,A.headers&&(Z=A.headers));if(Z instanceof Headers){da={};ta=Z.keys();for(fa=ta.next();fa.value;)da[fa.value.toLowerCase()]=Z.get(fa.value),fa=ta.next();Z=da}else{la={};for(Aa in Z)la[Aa.toLowerCase()]=Z[Aa];Z=la}if("application/json"===Z["content-type"]){if(!(x instanceof Request&&x.body)){ca={};try{ca=JSON.parse(A.body)}catch(F){G.error("Error parsing request JSON: "+
F)}n.jumpTo(9);break}return n.yield(Q.json(),22)}if("multipart/form-data"===Z["content-type"]){ca={};if(!(x instanceof Request&&Q.body)){Ua=A.body;n.jumpTo(19);break}return n.yield(Q.formData(),20)}if(Z["content-type"]&&Z["content-type"].startsWith("application/x-www-form-urlencoded")){if(!(x instanceof Request&&Q.body)){ca={};try{ca=f._parserForUrlencoded(A.body)}catch(F){G.error("Error parsing Urlencoded body: "+F)}n.jumpTo(9);break}return n.yield(Q.urlencoded(),18)}if("text/plain"!==Z["content-type"]){ca=
"";n.jumpTo(9);break}if(!(x instanceof Request&&Q.body)){ca=A.body||"";n.jumpTo(9);break}return n.yield(Q.text(),16);case 16:ca=n.yieldResult;n.jumpTo(9);break;case 18:ca=n.yieldResult;n.jumpTo(9);break;case 20:Ua=n.yieldResult;case 19:ma={};wa=$jscomp.makeIterator(Ua.entries());for(Ia=wa.next();!Ia.done;Ia=wa.next())bb=Ia.value,Va=$jscomp.makeIterator(bb),Ja=Va.next().value,Wa=Va.next().value,ma[Ja]=Wa;ca=ma;n.jumpTo(9);break;case 22:ca=n.yieldResult;case 9:pa={};Xa=$jscomp.makeIterator(N.headers.entries());
for(Ka=Xa.next();!Ka.done;Ka=Xa.next())E=Ka.value,pa[E[0].toLowerCase()]=E[1];X=N.clone();if("application/json"===pa["content-type"])return n.yield(X.json(),30);if(pa["content-type"]&&pa["content-type"].startsWith("application/x-www-form-urlencoded"))return n.yield(X.formData(),29);if("text/plain"!==pa["content-type"]){ra="";n.jumpTo(24);break}return n.yield(X.text(),28);case 28:ra=n.yieldResult;n.jumpTo(24);break;case 29:qa=n.yieldResult;Ba={};La=$jscomp.makeIterator(qa.entries());for(Ca=La.next();!Ca.done;Ca=
La.next())q=Ca.value,z=$jscomp.makeIterator(q),v=z.next().value,C=z.next().value,Ba[v]=C;ra=Ba;n.jumpTo(24);break;case 30:ra=n.yieldResult;case 24:B={},B.applicableAllowFilters=R,B.request={},B.request.method=ka,B.request.url=L,B.request.headers=Z,B.request.body=ca,B.response={},B.response.headers=pa,B.response.status=N.status,B.response.responseUrl=N.url,B.response.body=ra,setTimeout(function(){na._processNetworkTraceObj(a,B)},10);case 6:return n.enterFinallyBlock(),n.return(N);case 5:I=n.enterCatchBlock(),
G.error("Error processing intercepted fetch: "+I),n.jumpTo(6)}})}}return d})({onOpen:function(d,f,g){var h=g[1],m=na._inBlockList(f,h),p=[],u=void 0;m||(p=f._allowList.filter(function(w){return w.isApplicableTo(h)}),0<p.length&&(u=g));d.id=d.id||Math.random();c[d.id]={open:u,blocked:m,applicableAllowFilters:p}},onSend:function(d,f){void 0!==d.id&&(d=c[d.id],d.blocked||0===d.applicableAllowFilters.length||(d.send=f))},onLoad:function(d,f){if(void 0!==d.currentTarget.id){var g=c[d.currentTarget.id];
try{if(!g.blocked&&0!==g.applicableAllowFilters.length)if((!d.lengthComputable||d.lengthComputable&&d.loaded===d.total)&&4===d.srcElement.readyState){var h=d.srcElement;g.load={status:h.status,responseUrl:h.responseUrl,responseType:h.responseType,response:h.response,responseHeaders:b(h.getAllResponseHeaders())};void 0===g.requestHeaders&&(g.requestHeaders={});this.processTrace(a,g)}else G.log(d),G.log(f)}finally{c.delete(d.currentTarget.id)}}},onSetRequestHeader:function(d,f){try{var g=c[d.id];if(!g.blocked&&
0!==g.applicableAllowFilters.length){var h=f[0],m=f[1].split(",").map(function(w){return w.trim()}),p=g.requestHeaders||{},u=p[h]||[];u.push.apply(u,$jscomp.arrayFromIterable(m));p[h]=u;g.requestHeaders=p}}catch(w){G.log("header not formatted as expected",w)}},processTrace:this._processXHRNetworkRequestTrace.bind(this)})}},_inBlockList:function(a,b){return void 0===a.get_config?!0:b.startsWith(a.get_config("api_host"))||b.startsWith(a.get_config("app_host"))},_parseQueryStrings:function(a){var b=
a.indexOf("?");if(-1!==b)return a=a.slice(b+1),this._parserForUrlencoded(a)},_parserForUrlencoded:function(a){var b={},c={};a.split("&").forEach(function(d){var f=d.split("=");d=f[1];try{var g=decodeURIComponent(f[1]);d=JSON.parse(g)}catch(h){}g=decodeURIComponent(f[0]);b[g]?g in c?(f=b[g],f.push(d),b[g]=f):b[g]=[d]:(b[g]=d,c[g]=!0)});return b},_createNetworkTraceObjectFromXHR:function(a){var b={};b.applicableAllowFilters=a.applicableAllowFilters;var c=a.load.responseType;b.request={headers:a.requestHeaders||
{},url:a.open[1],method:a.open[0],body:a.send[1],responseType:c};b.response={headers:a.load.responseHeaders||{},body:a.load.response,status:a.load.status};a.load.responseUrl&&(b.response.responseUrl=a.load.responseUrl);if(!c){b.request.responseType="text";try{var d=JSON.parse(a.load.response);b.request.responseType="json";b.response.body=d}catch(h){}}if(0<a.send.length){c=JSON.parse;(a.requestHeaders["Content-Type"]||[]).includes("application/x-www-form-urlencoded")&&(c=this._parserForUrlencoded);
d=[];for(var f=0;f<a.send.length;f++)if(null!==a.send[f]&&void 0!==a.send[f])try{var g=c(a.send[f]);d.push(g)}catch(h){d.push(a.send[f])}b.request.body=1===d.length?d[0]:d}return b},_processXHRNetworkRequestTrace:function(a,b){this._processNetworkTraceObj(a,this._createNetworkTraceObjectFromXHR(b))},_processNetworkTraceObj:function(a,b){var c=e.cloneObject(b);b=this._processNetworkTraceObjectAllowList(b);a.get_config("log_network")&&a._add_network_event({allowed:b,raw:c});0!==Object.keys(b).length&&
(c=this._processFilteredNetworkTraceObjectProps(a,b),null!==c&&a._processEvent("$web_event",null,{},c))},_processNetworkTraceObjectAllowList:function(a){var b=a.applicableAllowFilters;if(0===b.length)a={};else for(var c in b)a=b[c].applyAllowList(a);return a},_processFilteredNetworkTraceObjectProps:function(a,b){a={};a.$request_url=b.request.url;a.$request_headers=b.request.headers;a.$request=b.request.body;a.$response_type=b.request.responseType;a.$response_headers=b.response.headers;a.$response=
b.response.body;b=this._parseQueryStrings(b.request.url);void 0!==b&&(a.$query_string_params=b);return e.extend({},a,this._getDefaultProperties("network"))},_addDomEventHandlers:function(a){var b=e.bind(function(d){d=d||window.event;this._trackEvent(d,a)},this);e.register_event(document,"submit",b,!1,!0);e.register_event(document,"change",b,!1,!0);e.register_event(document,"click",b,!1,!0);if(window.history.pushState){var c=this;b=function(){c._prevPageviewPath!==window.location.pathname&&(a.triggerCodeEval("onPageChange"),
c._triggerPageview(a))};this._interceptFunction(window.history,"pushState",b);this._interceptFunction(window.history,"replaceState",b);window.addEventListener("popstate",b,!0)}},_addUnloadEventListner:function(a){function b(){a.unloaded=!0;var c=(new Date).getTime(),d=Math.min(a.get_config("api_time_out")-(c-a._last_timestamp),a.get_config("unload_wait_time"));if(!(0>=d))for(;a.unloaded&&(new Date).getTime()<c+d;);}document.addEventListener("pagehide",function(){a.unloaded||b()});document.addEventListener("visibilitychange",
function(){"hidden"===document.visibilityState?a.unloaded||b():a.unloaded=!1})},_customProperties:{},_lastRequestTimestamp:0,_unloaded:!1,init:function(a){var b=this;if(document&&document.body){a.__initialized=!0;var c=a.get_config("token");-1<this._initializedTokens.indexOf(c)?G.log('autotrack already initialized for token "'+c+'"'):(this._initializedTokens.push(c),this._maybeLoadEditor(a)||(a.triggerCodeEval("onPageLoad"),a.triggerCodeEval("onPageChange"),this._triggerPageview(a),this._addDomEventHandlers(a),
this._addUnloadEventListner(a),0<a._allowList.length&&this._addNetworkEventHandlers(a)))}else G.log("document not ready yet, trying again in 500 milliseconds..."),setTimeout(function(){b.init(a)},500)},_prevPageviewPath:null,_triggerPageview:function(a){this._prevPageviewPath=window.location.pathname;a.register({$pageview_id:e.UUID()});var b=e.extend({},{$title:document.title},this._getDefaultProperties("pageview"));a._processEvent("$web_event",null,{},b)},_editorParamsFromHash:function(a,b){try{var c=
e.getHashParam(b,"fpState");c=JSON.parse(decodeURIComponent(c));var d={temporaryToken:c.temporaryToken,projectToken:c.projectToken};c.userEmail&&(d.userEmail=c.userEmail);window.sessionStorage.setItem("fpEditorParams",JSON.stringify(d));c.desiredHash?window.location.hash=c.desiredHash:window.history?history.replaceState("",document.title,window.location.pathname+window.location.search):window.location.hash=""}catch(f){G.error("Unable to parse data from hash",f)}return d},_maybeLoadEditor:function(a){try{var b=
!1;if(e.getHashParam(window.location.hash,"fpState")){var c=e.getHashParam(window.location.hash,"fpState");c=JSON.parse(decodeURIComponent(c));b="fpeditor"===c.action}var d=!!window.sessionStorage.getItem("_fpcehash");if(b)var f=this._editorParamsFromHash(a,window.location.hash);else d?(f=this._editorParamsFromHash(a,window.sessionStorage.getItem("_fpcehash")),window.sessionStorage.removeItem("_fpcehash")):f=JSON.parse(window.sessionStorage.getItem("fpEditorParams")||"{}");return f.projectToken&&
a.get_config("token")===f.projectToken?(this._loadEditor(a,f),!0):!1}catch(g){return!1}},_loadEditor:function(a,b){return window._fpEditorLoaded?!1:(window._fpEditorLoaded=!0,a=window.__FP_EDITOR_PATH__||a.get_config("app_host")+"/static/js/editor.js",this._loadScript(a,function(){window.fp_load_editor(b)}),!0)},enabledForProject:function(a,b,c){b=e.isUndefined(b)?10:b;c=e.isUndefined(c)?10:c;for(var d=0,f=0;f<a.length;f++)d+=a.charCodeAt(f);return d%b<c},isBrowserSupported:function(){return e.isFunction(document.querySelectorAll)}};
e.bind_instance_methods(na);e.safewrap_instance_methods(na);var U=function(){};e.extend(U.prototype,{set_action:function(a,b){var c={},d={};e.isObject(a)?e.each(a,function(f,g){this._is_reserved_property(g)||(d[g]=f)},this):d[a]=b;c.$set=d;return c},unset_action:function(a){var b={},c=[];e.isArray(a)||(a=[a]);e.each(a,function(d){this._is_reserved_property(d)||c.push(d)},this);b.$unset=c;return b},set_once_action:function(a,b){var c={},d={};e.isObject(a)?e.each(a,function(f,g){this._is_reserved_property(g)||
(d[g]=f)},this):d[a]=b;c.$set_once=d;return c},union_action:function(a,b){var c={},d={};e.isObject(a)?e.each(a,function(f,g){this._is_reserved_property(g)||(d[g]=e.isArray(f)?f:[f])},this):d[a]=e.isArray(b)?b:[b];c.$union=d;return c},append_action:function(a,b){var c={},d={};e.isObject(a)?e.each(a,function(f,g){this._is_reserved_property(g)||(d[g]=f)},this):d[a]=b;c.$append=d;return c},remove_action:function(a,b){var c={},d={};e.isObject(a)?e.each(a,function(f,g){this._is_reserved_property(g)||(d[g]=
f)},this):d[a]=b;c.$remove=d;return c},delete_action:function(){return{$delete:""}}});U.prototype._init=function(a,b,c){this._freshpaint=a;this._group_key=b;this._group_id=c};U.prototype.set=Fa(function(a,b,c){var d=this.set_action(a,b);e.isObject(a)&&(c=b);return this._send_request(d,c)});U.prototype.set_once=Fa(function(a,b,c){var d=this.set_once_action(a,b);e.isObject(a)&&(c=b);return this._send_request(d,c)});U.prototype.unset=Fa(function(a,b){a=this.unset_action(a);return this._send_request(a,
b)});U.prototype.union=Fa(function(a,b,c){e.isObject(a)&&(c=b);a=this.union_action(a,b);return this._send_request(a,c)});U.prototype["delete"]=Fa(function(a){var b=this.delete_action();return this._send_request(b,a)});U.prototype.remove=Fa(function(a,b,c){a=this.remove_action(a,b);return this._send_request(a,c)});U.prototype._send_request=function(a,b){a.$group_key=this._group_key;a.$group_id=this._group_id;a.$token=this._get_config("token");var c=e.encodeDates(a),d=e.truncate(c,255);c=e.JSONEncode(c);
c=e.base64Encode(c);G.log(a);this._freshpaint._send_request(this._freshpaint.get_config("api_host")+"/groups/",{data:c},this._freshpaint._prepare_callback(b,d));return d};U.prototype._is_reserved_property=function(a){return"$group_key"===a||"$group_id"===a};U.prototype._get_config=function(a){return this._freshpaint.get_config(a)};U.prototype.toString=function(){return this._freshpaint.toString()+".group."+this._group_key+"."+this._group_id};U.prototype.remove=U.prototype.remove;U.prototype.set=U.prototype.set;
U.prototype.set_once=U.prototype.set_once;U.prototype.union=U.prototype.union;U.prototype.unset=U.prototype.unset;U.prototype.toString=U.prototype.toString;Ga.prototype.isApplicableTo=function(a){return void 0===this.urlRegex||null===this.urlRegex?!1:this.urlRegex&&this.urlRegex.test(a)};Ga.prototype.applyAllowList=function(a){if(void 0===a)return a;for(var b={},c=$jscomp.makeIterator(this.allowedProperties),d=c.next();!d.done;d=c.next())b=Ib(b,mb(a,d.value.split("/")));return b};var nb={Number:"number",
Boolean:"boolean",String:"string"};Ra.prototype.shouldApply=function(a,b){return(null===this.set.eventDefId||this.set.eventDefId===a)&&(null===this.set.destinationName||this.set.destinationName===b)};Ra.prototype.operandValueString=function(){return null===this.transformation.operandValue||"string"!==typeof this.transformation.operandValue?(G.error("Transformation does not have an operand value"),null):String(this.transformation.operandValue)};Ra.prototype.checkNonNilTargetValue=function(){if(null===
this.transformation.targetValue)throw Error("Target value is null");};Ra.prototype.transform=function(a,b,c){if("replaceName"===this.transformation.operation){c=this.operandValueString();if(null===c)throw Error("Missing operand on replaceName transformation");return[c,b]}if("replacePropertyKey"===this.transformation.operation){c=this.operandValueString();if(null===c)throw Error("Missing operand on replaceName transformation");this.checkNonNilTargetValue();b=e.cloneObject(b);b.hasOwnProperty(this.transformation.targetValue)&&
(b[c]=b[this.transformation.targetValue],delete b[this.transformation.targetValue]);return[a,b]}if("castPropertyValue"===this.transformation.operation){c=this.operandValueString();if(null===c)throw Error("Missing operand on replaceName transformation");this.checkNonNilTargetValue();c=b.hasOwnProperty(this.transformation.targetValue);if(!c)return[a,b];c=qc(b[this.transformation.targetValue],this.transformation.operandValue);b=e.cloneObject(b);b[this.transformation.targetValue]=c;return[a,b]}if("lowercasePropertyValue"===
this.transformation.operation||"uppercasePropertyValue"===this.transformation.operation){c=b.hasOwnProperty(this.transformation.targetValue);if(!c||"string"!==typeof b[this.transformation.targetValue])return[a,b];b=e.cloneObject(b);b[this.transformation.targetValue]="uppercasePropertyValue"===this.transformation.operation?b[this.transformation.targetValue].toUpperCase():b[this.transformation.targetValue].toLowerCase();return[a,b]}if("deleteProperty"===this.transformation.operation)return b=e.cloneObject(b),
b.hasOwnProperty(this.transformation.targetValue)&&delete b[this.transformation.targetValue],[a,b];if("sendBuiltinProperty"===this.transformation.operation){var d=this.transformation.targetValue,f=this.operandValueString();b=e.cloneObject(b);c="target_text"===d?c.$el_nested_text||c.$el_text:c[d];null!==c&&void 0!==c&&(b[f]=c);return[a,b]}if("sendConstantProperty"===this.transformation.operation){if(this.transformation.targetValue)try{f=JSON.parse(this.transformation.targetValue)}catch(g){return G.error("Unable to parse transformation targetValue - ",
g.message),[a,b]}b=e.cloneObject(b);c=this.operandValueString();b[c]=f;return[a,b]}};ha.prototype.transform=function(a,b,c,d,f){var g=a.name,h;e.each(this.transformers,function(m){if((!d||"replaceName"!==m.transformation.operation)&&m.shouldApply(a.id,b))try{h=m.transform(g,c,f),g=h[0],c=h[1]}catch(p){G.error(p.message)}});return[g,c]};ha.prototype.getLegacyMapping=function(a){var b=[];e.each(this.transformers,function(c){null!==c.set.destinationName&&c.set.destinationName!==a||!c.set.eventDefId||
"replaceName"===c.transformation.operation&&b.push({destEvent:c.transformation.operandValue,fpEvent:c.set.eventDefId})});return b};ha.prototype.getLegacyMappingToSelf=function(a){var b={};e.each(this.transformers,function(c){null!==c.set.destinationName&&c.set.destinationName!==a||"replaceName"!==c.transformation.operation||(b[c.transformation.operandValue]=c.transformation.operandValue)});return b};ha.nil=new ha([]);ha.fromTransformationSets=function(a){try{for(var b=[],c=[],d=0;d<a.length;d++)b.push(new pc(a[d]));
for(a=0;a<b.length;a++){var f=b[a];for(d=0;d<f.transformations.length;d++)c.push(new Ra(f.transformations[d],f))}return new ha(c)}catch(g){return G.error("Error creating transformer",g),ha.nil}};var Kb=function(a,b,c,d,f,g){this.name=a;this.id=b;this.filter=c;this.enabledDestinations=d;this.snapshots=f;this.segmentCompatible=g};Kb.prototype.matches=function(a,b){return this.filter.matches(a,b)};var pb=function(a,b,c,d){this.propName=a;this.opName=b;this.val=c;this.negate=d};pb.prototype.matchesMainFilter=
function(a,b){b="."===this.propName[0]?e.jqLookup(b,this.propName):b[this.propName];return"="===this.opName?b===this.val:"contains"===this.opName?b.includes(this.val):"css_matches"===this.opName?null!==a.target.closest(this.val):"wildcard_matches"===this.opName?RegExp("^"+this.val.split("*").map(rc).join(".*")+"$").test(b):"exists"===this.opName?void 0!==b:!1};pb.prototype.matches=function(a,b){a=this.matchesMainFilter(a,b);return this.negate?!a:a};var ob=function(a){this.filters=a};ob.prototype.matches=
function(a,b){for(var c=0;c<this.filters.length;c++)if(!this.filters[c].matches(a,b))return!1;return!0};try{uc()}catch(a){console.log("GOT ERROR WHILE POLYFILLING",a)}var Ab,V,Kc="__mps __mpso __mpus __mpa __mpap __mpr __mpu __alias __cmpns __timers __user_props __group_id __group_props __last_event_time __initial_utm_props_set __first_pageview_occurred __first_pageview_in_session_has_occurred __last_pageview_time".split(" "),gb=O.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest,$b=!gb&&-1===
aa.indexOf("MSIE")&&-1===aa.indexOf("Mozilla"),ac={api_host:"https://api.perfalytics.com",app_host:"https://perfalytics.com",autotrack:!0,cdn:"https://perfalytics.com",tag_manager:!0,cross_subdomain_cookie:!0,persistence:"cookie",persistence_name:"",cookie_name:"",loaded:function(){},store_google:!0,save_referrer:!0,test:!1,verbose:!1,img:!1,track_pageview:!0,debug:O.__FP_FORCE_DEBUG__||!1,track_links_timeout:300,cookie_expiration:365,upgrade:!1,disable_persistence:!1,disable_cookie:!1,disable_target_text_capture:!1,
secure_cookie:!1,ip:!0,opt_out_tracking_by_default:!1,opt_out_persistence_by_default:!1,opt_out_tracking_persistence_type:"localStorage",opt_out_tracking_cookie_prefix:null,property_blacklist:[],xhr_headers:{},inapp_protocol:"//",inapp_link_new_window:!1,unload_wait_time:100,api_time_out:5E3},bc=!1,sa=function(){};sa.prototype.create_properties=function(){};sa.prototype.event_handler=function(){};sa.prototype.after_track_handler=function(){};sa.prototype.init=function(a){this.mp=a;return this};sa.prototype.track=
function(a,b,c,d){var f=this,g=e.dom_query(a);if(0===g.length)G.error("The DOM query ("+a+") returned 0 elements");else return e.each(g,function(h){e.register_event(h,this.override_event,function(m){var p={},u=f.create_properties(c,this),w=f.mp.get_config("track_links_timeout");f.event_handler(m,this,p);O.setTimeout(f.track_callback(d,u,p,!0),w);f.mp.track(b,u,f.track_callback(d,u,p))})},this),!0};sa.prototype.track_callback=function(a,b,c,d){d=d||!1;var f=this;return function(){c.callback_fired||
(c.callback_fired=!0,a&&!1===a(d,b)||f.after_track_handler(b,c,d))}};sa.prototype.create_properties=function(a,b){return"function"===typeof a?a(b):e.extend({},a)};var Oa=function(){this.override_event="click"};e.inherit(Oa,sa);Oa.prototype.create_properties=function(a,b){var c=Oa.superclass.create_properties.apply(this,arguments);b.href&&(c.url=b.href);return c};Oa.prototype.event_handler=function(a,b,c){c.new_tab=2===a.which||a.metaKey||a.ctrlKey||"_blank"===b.target;c.href=b.href;c.new_tab||a.preventDefault()};
Oa.prototype.after_track_handler=function(a,b){b.new_tab||setTimeout(function(){O.location=b.href},0)};var hb=function(){this.override_event="submit"};e.inherit(hb,sa);hb.prototype.event_handler=function(a,b,c){c.element=b;a.preventDefault()};hb.prototype.after_track_handler=function(a,b){setTimeout(function(){b.element.submit()},0)};var J=function(a){this.props={};this.campaign_params_saved=!1;this.name=a.persistence_name?"mp_"+a.persistence_name:"mp_"+a.token+"_perfalytics";var b=a.persistence;
"cookie"!==b&&"localStorage"!==b&&(G.critical("Unknown persistence type "+b+"; falling back to cookie"),b=a.persistence="cookie");"localStorage"===b&&e.localStorage.is_supported()?this.storage=e.localStorage:this.storage=e.cookie;this.load();this.update_config(a);this.upgrade(a);this.save()};J.prototype.properties=function(){var a={};e.each(this.props,function(b,c){e.include(Kc,c)||(a[c]=b)});return a};J.prototype._customSuperProperties=function(){var a={},b="initial_utm_source initial_utm_medium initial_utm_campaign initial_utm_content initial_utm_term initial_utm_source utm_medium utm_campaign utm_content utm_term utm_source mp_keyword distinct_id mp_name_tag mp_page mp_referrer mp_browser mp_platform mp_lib".split(" ");
e.each(this.properties(),function(c,d){0<d.length&&"$"!==d[0]&&!e.include(b,d)&&(a[d]=c)});return a};J.prototype.load=function(){if(!this.disabled){var a=this.storage.parse(this.name);a&&(this.props=e.extend({},a))}};J.prototype.upgrade=function(a){var b=a.upgrade;if(b){var c="mp_super_properties";"string"===typeof b&&(c=b);b=this.storage.parse(c);this.storage.remove(c);this.storage.remove(c,!0);b&&(this.props=e.extend(this.props,b.all,b.events))}!a.cookie_name&&"freshpaint"!==a.name&&(c="mp_"+a.token+
"_"+a.name,b=this.storage.parse(c))&&(this.storage.remove(c),this.storage.remove(c,!0),this.register_once(b));this.storage===e.localStorage&&(b=e.cookie.parse(this.name),e.cookie.remove(this.name),e.cookie.remove(this.name,!0),b&&this.register_once(b))};J.prototype.save=function(){this.disabled||(this._expire_notification_campaigns(),this.storage.set(this.name,e.JSONEncode(this.props),this.expire_days,this.cross_subdomain,this.secure))};J.prototype.remove=function(){this.storage.remove(this.name,
!1);this.storage.remove(this.name,!0)};J.prototype.clear=function(){this.remove();this.props={}};J.prototype.register_once=function(a,b,c){return e.isObject(a)?("undefined"===typeof b&&(b="None"),this.expire_days="undefined"===typeof c?this.default_expiry:c,e.each(a,function(d,f){this.props.hasOwnProperty(f)&&this.props[f]!==b||(this.props[f]=d)},this),this.save(),!0):!1};J.prototype.register=function(a,b){return e.isObject(a)?(this.expire_days="undefined"===typeof b?this.default_expiry:b,e.extend(this.props,
a),this.save(),!0):!1};J.prototype.unregister=function(a){a in this.props&&(delete this.props[a],this.save())};J.prototype._expire_notification_campaigns=e.safewrap(function(){var a=this.props.__cmpns,b=xa?6E4:36E5;if(a){for(var c in a)1*new Date-a[c]>b&&delete a[c];e.isEmptyObject(a)&&delete this.props.__cmpns}});J.prototype._maybeStartNewSession=function(){var a=e.timestamp(),b={};b.__last_event_time=a;var c=this.props.__last_event_time;if(!c||c<a-18E5)b.$session_id=e.UUID(),b.__first_pageview_in_session_has_occurred=
!1,this.unregister("__last_pageview_time");this.register(b);return!!b.$session_id};J.prototype.update_campaign_params=function(){if(!this.props.__initial_utm_props_set){var a={__initial_utm_props_set:!0};e.each(e.info.campaignParams(),function(b,c){a["initial_"+c]=b});this.register_once(a)}e.each(e.info.campaign_keywords,function(b){this.unregister(b)},this);this.register(e.info.campaignParams());this.register(e.info.advertisingParams())};J.prototype.update_search_keyword=function(a){this.register(e.info.searchInfo(a))};
J.prototype.update_referrer_info=function(a){this.register_once({$initial_referrer:a||"$direct",$initial_referring_domain:e.info.referringDomain(a)||"$direct"},"")};J.prototype.get_referrer_info=function(){return e.strip_empty_properties({$initial_referrer:this.props.$initial_referrer,$initial_referring_domain:this.props.$initial_referring_domain})};J.prototype.safe_merge=function(a){e.each(this.props,function(b,c){c in a||(a[c]=b)});return a};J.prototype.update_config=function(a){this.default_expiry=
this.expire_days=a.cookie_expiration;this.set_disabled(a.disable_persistence);this.set_cross_subdomain(a.cross_subdomain_cookie);this.set_secure(a.secure_cookie)};J.prototype.set_disabled=function(a){(this.disabled=a)?this.remove():this.save()};J.prototype.set_cross_subdomain=function(a){a!==this.cross_subdomain&&(this.cross_subdomain=a,this.remove(),this.save())};J.prototype.get_cross_subdomain=function(){return this.cross_subdomain};J.prototype.set_secure=function(a){a!==this.secure&&(this.secure=
a?!0:!1,this.remove(),this.save())};J.prototype._get_queue_key=function(a){if("$set"===a)return"__mps";if("$set_once"===a)return"__mpso";if("$unset"===a)return"__mpus";if("$add"===a)return"__mpa";if("$append"===a)return"__mpap";if("$remove"===a)return"__mpr";if("$union"===a)return"__mpu";G.error("Invalid queue:",a)};J.prototype._get_queue=function(a){return this.props[this._get_queue_key(a)]};J.prototype._get_or_create_queue=function(a,b){a=this._get_queue_key(a);b=e.isUndefined(b)?{}:b;return this.props[a]||
(this.props[a]=b)};J.prototype.set_event_timer=function(a,b){var c=this.props.__timers||{};c[a]=b;this.props.__timers=c;this.save()};J.prototype.remove_event_timer=function(a){var b=(this.props.__timers||{})[a];e.isUndefined(b)||(delete this.props.__timers[a],this.save());return b};var k=function(){},ib=function(a,b,c,d,f,g,h,m,p,u,w,r){var y=Ha(c)?V:V[c];if(y&&0===Ab)var x=y;else{if(y&&!e.isArray(y)){G.error("You have already initialized "+c);return}x=new k}Ha(c)&&(O.freshpaint=O.perfalytics=x);
x._cached_groups={};x._user_decide_check_complete=!1;x._events_tracked_before_user_decide_check_complete=[];x._eventDefs=d;x._allowList=g;x._transformer=h;x._configVersion=m;x._elementAttributesWhitelist=p;x._codeEvalConfig=u;x._allowRetry=w;x._trackRequestType=r;x._pageviewProperties={};x._networkCaptureInitialized=!1;x._init(a,b,c);x._destInfo={};e.each(f,function(A){x._destInfo[A.name]=A});xa=O.__FP_FORCE_DEBUG__||xa||x.get_config("debug");if(Da=O.__FP_FORCE_TEST_MODE__||Da||x.get_config("test_mode"))O.__FP_TEST_MODE_LOGGER__=
fb;(a=e.isFunction(O.FPCookieBackedEventQueue))||e.isUndefined(y)||!e.isArray(y)||x._execute_array(y);if(a){a=new O.FPCookieBackedEventQueue;y=a.getEvents();a.deleteCookie();a=[];for(b=0;b<y.length;b++)f=y[b],c=f.e,d=f.a,f=f.m,"page"===c&&f.l!==O.location.href||a.push([c].concat(d));x._execute_array(a)}x.__autotrack_enabled=x.get_config("autotrack");x.get_config("autotrack")&&(na.enabledForProject(x.get_config("token"),100,100)?na.isBrowserSupported()?na.init(x):(x.__autotrack_enabled=!1,G.log("Disabling Automatic Event Collection because this browser is not supported")):
(x.__autotrack_enabled=!1,G.log("Not in active bucket: disabling Automatic Event Collection.")));return x};k.prototype.init=function(a,b,c){if(e.isUndefined(c))G.error("You must name your new library: init(token, config, name)");else if(Ha(c))G.error("You must initialize the main freshpaint object right after you include the Freshpaint js snippet");else return a=ib(a,b,c,[],[],[],ha.nil,0),V[c]=a,a._loaded(),a};k.prototype._init=function(a,b,c){var d=this;this.__loaded=!0;this.config={};this._triggered_notifs=
[];this.network_logs=[];this.set_config(e.extend({},ac,b,{name:c,token:a,callback_fn:(Ha(c)?c:"freshpaint."+c)+"._jsc"}));this._jsc=function(){};this.__dom_loaded_queue=[];this.__request_queue=[];this.__disabled_events=[];this._flags={disable_all_events:!1,identify_called:!1};this.persistence=this.cookie=new J(this.config);this._gdpr_init();a=e.UUID();this.get_distinct_id()||this.register_once({distinct_id:a,$device_id:a},"");this.destination_send_queues={fp:new Y("send_to_fp",{minRetryDelay:1E3,
maxRetryDelay:3E4,backoffFactor:2,backoffJitter:0,maxItems:100,maxAttempts:10},function(f,g){d._process_queued_request(f,function(h,m){if(h)return g(h);g(null,m)})})};this.destination_send_queues.fp.start()};k.prototype._loaded=function(){this.get_config("loaded")(this)};k.prototype._dom_loaded=function(){e.each(this.__dom_loaded_queue,function(a){this._track_dom.apply(this,a)},this);this.has_opted_out_tracking()||e.each(this.__request_queue,function(a){this._send_request.apply(this,a)},this);delete this.__dom_loaded_queue;
delete this.__request_queue};k.prototype._track_dom=function(a,b){if(this.get_config("img"))return G.error("You can't use DOM tracking functions with img = true."),!1;if(!bc)return this.__dom_loaded_queue.push([a,b]),!1;a=(new a).init(this);return a.track.apply(a,b)};k.prototype._prepare_callback=function(a,b){if(e.isUndefined(a))return null;if(gb)return function(g){a(g,b)};var c=this._jsc,d=""+Math.floor(1E8*Math.random()),f=this.get_config("callback_fn")+"["+d+"]";c[d]=function(g){delete c[d];a(g,
b)};return f};k.prototype._send_request=k.prototype._enqueue_request=function(a,b,c,d){d=d||"GET";this._lastRequestTimestamp=(new Date).getTime();this._allowRetry?this.destination_send_queues.fp.addItem({url:a,data:b,callback:c,http_request_type:d}):this._send_request_from_url_data(a,b,c,d)};k.prototype._process_queued_request=function(a,b){var c=a.callback;this._send_request_from_url_data(a.url,a.data,function(d){d instanceof Error?b(d):(c&&c(d),b())},a.http_request_type||"GET")};k.prototype._send_request_from_url_data=
function(a,b,c,d){d=d||"GET";if($b)this.__request_queue.push(arguments);else{c||(c=function(){});var f=this.get_config("verbose");b.verbose&&(f=!0);this.get_config("test")&&(b.test=1);f&&(b.verbose=1);this.get_config("img")&&(b.img=1);if(!gb)if(c)b.callback=c;else if(f||this.get_config("test"))b.callback="(function(){})";"GET"===d&&(b={data:b.data});b.ip=this.get_config("ip")?1:0;b._=(new Date).getTime().toString();if("img"in b){var g=P.createElement("img");a+="?"+e.HTTPBuildQuery(b);g.src=a;P.body.appendChild(g);
c()}else if(gb)try{var h=new XMLHttpRequest;"GET"===d?(a+="?"+e.HTTPBuildQuery(b),h.open("GET",a,!0)):h.open("POST",a,!0);g=this.get_config("xhr_headers");if("POST"===d){g["Content-Type"]="application/json";try{b=JSON.parse(b.json_data)}catch(p){G.error(p)}}e.each(g,function(p,u){h.setRequestHeader(u,p)});h.onreadystatechange=function(){if(4===h.readyState)if(200===h.status)if(f){try{var p=e.JSONDecode(h.responseText)}catch(u){return G.error(u),c(u)}c(p)}else c(Number(h.responseText));else p=Error("Bad HTTP status: "+
h.status+" "+h.statusText),G.error(p),c(p)};"GET"===d?h.send(null):h.send(JSON.stringify(b))}catch(p){G.error(p),c(p)}else{g=P.createElement("script");g.type="text/javascript";g.async=!0;g.defer=!0;a+="?"+e.HTTPBuildQuery(b);g.src=a;var m=P.getElementsByTagName("script")[0];m.parentNode.insertBefore(g,m);return c()}}};k.prototype._execute_array=function(a){var b,c=[],d=[],f=[],g=0;e.each(a,function(h){h&&(b=h[0],e.isArray(b)?f.push(h):"function"===typeof h?h.call(this):e.isArray(h)&&"alias"===b?c.push(h):
e.isArray(h)&&"page"===b?0===g&&(f.push(h),g++):e.isArray(h)&&-1!==b.indexOf("track")&&"function"===typeof this[b]?f.push(h):d.push(h))},this);a=function(h,m){e.each(h,function(p){if(e.isArray(p[0])){var u=m;e.each(p,function(w){u=u[w[0]].apply(u,w.slice(1))})}else this[p[0]].apply(this,p.slice(1))},m)};a(c,this);a(d,this);a(f,this)};k.prototype.push=function(a){this._execute_array([a])};k.prototype.disable=function(a){"undefined"===typeof a?this._flags.disable_all_events=!0:this.__disabled_events=
this.__disabled_events.concat(a)};k.prototype._processEvent=function(a,b,c,d,f,g){this.persistence._maybeStartNewSession()&&this._sendEvent("$web_event",null,{},na._getDefaultProperties("session"));if("$web_event"===a&&d&&"pageview"===d.$event_type){this.persistence.props.__first_pageview_occurred||(d.$is_first_visit=!0);this.persistence.props.__first_pageview_in_session_has_occurred||(d.$is_first_pageview_in_session=!0);var h=(new Date).getTime();this.persistence.props.__last_pageview_time&&(d.$time_since_last_pageview=
h-this.persistence.props.__last_pageview_time);var m={__first_pageview_occurred:!0,__first_pageview_in_session_has_occurred:!0};m.__last_pageview_time=h;this.persistence.register(m)}this._sendEvent(a,b,c,d,f,g)};k.prototype._sendEvent=function(a,b,c,d,f,g){"undefined"===typeof f&&(f={});"function"!==typeof g&&(g=function(){});if(this._event_is_disabled(a))g(0);else{c=e.extend({},this._pageviewProperties,c);d=e.extend({},d,{$event_name:a});d.token=this.get_config("token");var h=this.persistence.remove_event_timer(a);
e.isUndefined(h)||(h=(new Date).getTime()-h,d.$duration=parseFloat((h/1E3).toFixed(3)));this.persistence.update_search_keyword(P.referrer);this.get_config("store_google")&&this.persistence.update_campaign_params();this.get_config("save_referrer")&&this.persistence.update_referrer_info(P.referrer);d=e.extend({},e.info.properties(),this.persistence.properties(),d,{$options:f});h=this.get_config("property_blacklist");e.isArray(h)?e.each(h,function(m){delete d[m]}):G.error("Invalid value for property_blacklist config: "+
h);h=this._find_matching_event_defs(a,b,d);b=this._get_snapshot_properties(h,b,d);c=e.extend({},c,this.persistence._customSuperProperties());this._send_event_to_destinations(a,h,c,b,f,d);f=e.extend({},d,c,{$eventDefProps:b});c=this._trackRequestType||"GET";a=e.truncate({event:a,properties:f},255);f=e.JSONEncode(a);b=e.base64Encode(f);G.log("FRESHPAINT REQUEST:");G.log(a);this._enqueue_request(this.get_config("api_host")+"/track",{data:b,json_data:f},this._prepare_callback(g,a),c);return a}};k.prototype._find_matching_event_defs=
function(a,b,c){a=[];if(this._eventDefs)for(var d=0;d<this._eventDefs.length;d++)try{var f=this._eventDefs[d];f.matches(b,c)&&a.push(f)}catch(g){}return a};k.prototype._get_snapshot_properties=function(a,b,c){b=void 0===b?{}:b;c=void 0===c?{}:c;for(var d={},f=0;f<a.length;f++){for(var g=a[f],h={},m=0;m<g.snapshots.length;m++){var p=g.snapshots[m];if("js_code"===p.type)try{var u=(new Function("event",p.value))(b);"SUPPRESS_EVENT"===u&&(h.$is_suppressed=u);h[p.name]=u}catch(w){}else h[p.name]="network"===
p.type?e.jqLookup(c,p.value):na._extractCustomPropertyValue(p)}d[g.id]=h}return d};k.prototype._isManuallyTrackedEvent=function(a){return 0===a.length||"$"!==a[0]};var Bb=function(a,b){this.name=a;this.props=b};k.prototype._transformEventForDest=function(a,b,c){var d=a.name;this._destInfo&&this._destInfo[c]&&this._destInfo[c].settings&&this._destInfo[c].mapping&&"Google AdWords New"!==c&&e.each(this._destInfo[c].mapping,function(f){var g=f.fpEvent;f=f.destEvent;g===a.id&&(G.log("Renaming event ",
g," from ",a.name," to ",f," because it matches the standard event for ",c),d=f)});return new Bb(d,b)};k.prototype.addEventDefs=function(a){this._eventDefs=sc(this._eventDefs,this._destInfo,a)};k.prototype.addAllowListEntry=function(a){this._allowList.push(new Ga(a))};k.prototype._applyTransformer=function(a,b,c,d,f){c=this._transformer.transform(a,b,c,!!d,f);a=c[0];c=c[1];"Mixpanel"===b&&(c=e.extend({},c,{mp_lib:"Freshpaint: web",$source:"Freshpaint: web"}));return new Bb(a,c)};k.prototype._getDestinationConfigFromName=
function(a){var b=null;e.each(this._destInfo,function(c,d){d===a&&(b=c)});return b};k.prototype._calculateDestinations=function(a,b,c){var d={};a=e.extend({integrations:{}},a);e.each(this._destInfo,function(f,g){c?a.integrations[g]?d[g]=a.integrations[g]:!1!==a.integrations.All&&!1!==a.integrations[g]&&(d[g]=!0):b[g]&&(d[g]=a.integrations[g]||b[g]||!0)});return d};k.prototype._send_event_to_destinations=function(a,b,c,d,f,g){var h=this,m=e.extend({integrations:{}},f);0===b.length&&this._isManuallyTrackedEvent(a)&&
(b=[{id:null,name:a,segmentCompatible:!0}]);for(a=0;a<b.length;a++)try{var p=b[a],u=d[p.id]||{};if(!("$is_suppressed"in u)){u=e.extend({},c,u);this.triggerCodeEval("onTrack",{eventName:p.name,eventProperties:u,eventOptions:f,builtinProperties:g});var w=this._calculateDestinations(m,p.enabledDestinations,p.segmentCompatible);G.log("iterating over destinationsToSendTo",w);e.each(w,function(r,y){try{var x=m[y]||r;if(x){var A=h._makeIntegrationSettingsForSingleDestination(m,y,x),L=h._getDestinationConfigFromName(y);
if(3<=h._configVersion)if(L.useTransformer){G.log("Transforming event for ",L.name,p.name,u);var M=h._applyTransformer(p,L.name,u,L.skipTransformingEventNames,g);G.log("Transformed into",M)}else M=new Bb(p.name,u);else M=h._transformEventForDest(p,u,y);h._callIntegrations("track",M.name,M.props,A)}}catch(R){G.error("Error sending event to destination",y,R)}})}}catch(r){}};k.prototype._makeIntegrationSettingsForSingleDestination=function(a,b,c){var d={All:!1};d[b]=c||!0;return e.extend({},a,{integrations:d})};
k.prototype._callIntegrations=function(){var a=O.freshpaintIntegrations;a.setAnonymousId(this.get_property("$device_id"));var b=arguments[0],c=Array.prototype.slice.call(arguments,1);return a[b].apply(a,c)};k.prototype.triggerCodeEval=function(a,b){var c=this.get_config("tag_manager");try{if(c&&this._codeEvalConfig){var d=this._codeEvalConfig[a];if(d){a=[];c=[];if("object"===typeof b)for(var f in b)b.hasOwnProperty(f)&&(a.push(f),c.push(b[f]));var g="(function ("+a.join(", ")+") {"+d+"})";G.log("eval code snippet: "+
g);var h=O.eval.call(O,g);h.apply(h,c)}}}catch(m){G.log("Code Eval:",m)}};k.prototype.track=function(a){return Hb(a,function(b){return this.get_config(b)})}(function(a,b,c,d){"function"!==typeof d&&(d=function(){});if(e.isUndefined(a))G.error("No event name provided to freshpaint.track");else return this._processEvent(a,null,b,{},c,d)});k.prototype._create_map_key=function(a,b){return a+"_"+JSON.stringify(b)};k.prototype._remove_group_from_cache=function(a,b){delete this._cached_groups[this._create_map_key(a,
b)]};k.prototype.get_group=function(a,b){var c=this._create_map_key(a,b),d=this._cached_groups[c];if(void 0===d||d._group_key!==a||d._group_id!==b)d=new U,d._init(this,a,b),this._cached_groups[c]=d;return d};k.prototype.track_pageview=function(a){e.isUndefined(a)&&(a=P.location.href);this.track("mp_page_view",e.info.pageviewInfo(a))};k.prototype.track_links=function(){return this._track_dom.call(this,Oa,arguments)};k.prototype.track_forms=function(){return this._track_dom.call(this,hb,arguments)};
k.prototype.time_event=function(a){e.isUndefined(a)?G.error("No event name provided to freshpaint.time_event"):this._event_is_disabled(a)||this.persistence.set_event_timer(a,(new Date).getTime())};k.prototype.register=function(a,b){this.persistence.register(a,b)};k.prototype.addPageviewProperties=function(a){this._pageviewProperties=e.extend({},this._pageviewProperties,a)};k.prototype.register_once=function(a,b,c){this.persistence.register_once(a,b,c)};k.prototype.unregister=function(a){this.persistence.unregister(a)};
k.prototype._register_single=function(a,b){var c={};c[a]=b;this.register(c)};k.prototype.identify=function(a,b,c,d){this.triggerCodeEval("onIdentify",{userID:a,userProps:b});e.isObject(a)&&(b=a,a=void 0);b="undefined"===typeof b?{}:b;var f=this.get_distinct_id();if(a===f||"undefined"===typeof a||!this._flags.identify_called){var g=this.get_property("__user_props")||{};b=e.extend({},g,b)}g={};g.__user_props=b;this.register(g);c=e.extend({},c,{anonymousId:this.get_property("$device_id")});"undefined"===
typeof a?(this.track("$identify",{$anon_distinct_id:f,$user_props:b},c),this._flags.identify_called?this._callIntegrations("identify",this.get_distinct_id(),b,c,d):this._callIntegrations("identify",b,c,d)):(this.register({$user_id:a}),this.get_property("$device_id")||this.register_once({$had_persisted_distinct_id:!0,$device_id:f},""),a!==f&&a!==this.get_property("__alias")&&(this.unregister("__alias"),this.register({distinct_id:a})),this._flags.identify_called=!0,this.track("$identify",{distinct_id:a,
$anon_distinct_id:f,$user_props:b},c),this._callIntegrations("identify",a,b,c,d))};k.prototype.alias=function(a,b,c,d){e.isObject(b)&&(c=b,b=this.get_distinct_id());this.track("$alias",{$alias_id:a,$previous_id:b},c);this._callIntegrations("alias",a,b,c,d)};k.prototype.page=function(a,b,c,d,f){"function"===typeof d&&(f=d,d=null);"function"===typeof c&&(f=c,d=c=null);"function"===typeof b&&(f=b,d=c=b=null);e.isObject(a)&&(d=b,c=a,b=a=null);e.isObject(b)&&(d=c,c=b,b=null);"string"===typeof a&&"string"!==
typeof b&&(b=a,a=null);this.track("$page",{$category:a,$name:b,$page_props:c},d);this._callIntegrations("page",a,b,c,d,f)};k.prototype.group=function(a,b,c,d){if(0===arguments.length)return this.group_object();e.isObject(a)&&(b=a,a=void 0);b="undefined"===typeof b?{}:b;var f=this.get_property("__group_id");if(a===f||"undefined"===typeof a||"undefined"===typeof f){var g=this.get_property("__group_props")||{};b=e.extend({},g,b)}g={};g.__group_props=b;this.register(g);"undefined"===typeof a?(this.track("$group",
{$group_id:f,$group_props:b},c),"undefined"!==typeof f?this._callIntegrations("group",f,b,c,d):this._callIntegrations("group",b,c,d)):(g={},g.__group_id=a,this.register(g),this.track("$group",{$group_id:a,$prev_group_id:f,$group_props:b},c),this._callIntegrations("group",a,b,c,d))};k.prototype.ready=function(a){this._callIntegrations("ready",a)};k.prototype.reset=function(){this.persistence.clear();this._flags.identify_called=!1;var a=e.UUID();this.register_once({distinct_id:a,$device_id:a},"");this._callIntegrations("reset")};
k.prototype.get_distinct_id=function(){return this.get_property("distinct_id")};k.prototype.alias=function(a,b){var c=this;e.isUndefined(b)&&(b=this.get_distinct_id());if(a!==b)return this._register_single("__alias",a),this.track("$create_alias",{alias:a,distinct_id:b},function(){c.identify(a)});G.error("alias matches current distinct_id - skipping api call.");this.identify(a);return-1};k.prototype.user=function(){var a=this;return{id:function(){return a.get_distinct_id()},traits:function(b){if(0===
arguments.length)return a.get_property("__user_props");var c={};c.__user_props=b;a.register(c);a._callIntegrations("user").traits(b);return null},anonymousId:function(){return a.get_property("$device_id")}}};k.prototype.group_object=function(){var a=this;return{id:function(){return a.get_property("__group_id")},traits:function(b){if(0===arguments.length)return a.get_property("__group_props");var c={};c.__group_props=b;a.register(c);a._callIntegrations("group").traits(b);return null}}};k.prototype.name_tag=
function(a){this._register_single("mp_name_tag",a)};k.prototype.set_config=function(a){e.isObject(a)&&(e.extend(this.config,a),this.get_config("persistence_name")||(this.config.persistence_name=this.config.cookie_name),this.get_config("disable_persistence")||(this.config.disable_persistence=this.config.disable_cookie),this.persistence&&this.persistence.update_config(this.config),xa=xa||this.get_config("debug"))};k.prototype.get_config=function(a){return this.config[a]};k.prototype.get_property=function(a){return this.persistence.props[a]};
k.prototype.toString=function(){var a=this.get_config("name");Ha(a)||(a="freshpaint."+a);return a};k.prototype._event_is_disabled=function(a){return e.isBlockedUA(aa)||this._flags.disable_all_events||e.include(this.__disabled_events,a)};k.prototype._gdpr_init=function(){"localStorage"===this.get_config("opt_out_tracking_persistence_type")&&e.localStorage.is_supported()&&(!this.has_opted_in_tracking()&&this.has_opted_in_tracking({persistence_type:"cookie"})&&this.opt_in_tracking({enable_persistence:!1}),
!this.has_opted_out_tracking()&&this.has_opted_out_tracking({persistence_type:"cookie"})&&this.opt_out_tracking({clear_persistence:!1}),this.clear_opt_in_out_tracking({persistence_type:"cookie",enable_persistence:!1}));this.has_opted_out_tracking()?this._gdpr_update_persistence({clear_persistence:!0}):this.has_opted_in_tracking()||!this.get_config("opt_out_tracking_by_default")&&!e.cookie.get("mp_optout")||(e.cookie.remove("mp_optout"),this.opt_out_tracking({clear_persistence:this.get_config("opt_out_persistence_by_default")}))};
k.prototype._add_network_event=function(a){this.network_logs.push(a)};k.prototype.get_network_log=function(){return this.network_logs};k.prototype.create_network_filter=function(a){return new Ga(a)};k.prototype._initializeNetworkCapture=function(a){a&&(this._allowList=a.map(function(b){return new Ga(b)}));na._addNetworkEventHandlers(this)};k.prototype._gdpr_update_persistence=function(a){if(a&&a.clear_persistence)a=!0;else if(a&&a.enable_persistence)a=!1;else return;this.get_config("disable_persistence")||
this.persistence.disabled===a||this.persistence.set_disabled(a)};k.prototype._gdpr_call_func=function(a,b){b=e.extend({track:e.bind(this.track,this),persistence_type:this.get_config("opt_out_tracking_persistence_type"),cookie_prefix:this.get_config("opt_out_tracking_cookie_prefix"),cookie_expiration:this.get_config("cookie_expiration"),cross_subdomain_cookie:this.get_config("cross_subdomain_cookie"),secure_cookie:this.get_config("secure_cookie")},b);e.localStorage.is_supported()||(b.persistence_type=
"cookie");return a(this.get_config("token"),{track:b.track,trackEventName:b.track_event_name,trackProperties:b.track_properties,persistenceType:b.persistence_type,persistencePrefix:b.cookie_prefix,cookieExpiration:b.cookie_expiration,crossSubdomainCookie:b.cross_subdomain_cookie,secureCookie:b.secure_cookie})};k.prototype.opt_in_tracking=function(a){a=e.extend({enable_persistence:!0},a);this._gdpr_call_func(kc,a);this._gdpr_update_persistence(a)};k.prototype.opt_out_tracking=function(a){a=e.extend({clear_persistence:!0,
delete_user:!0},a);this._gdpr_call_func(lc,a);this._gdpr_update_persistence(a)};k.prototype.has_opted_in_tracking=function(a){return this._gdpr_call_func(mc,a)};k.prototype.has_opted_out_tracking=function(a){return this._gdpr_call_func(Gb,a)};k.prototype.clear_opt_in_out_tracking=function(a){a=e.extend({enable_persistence:!0},a);this._gdpr_call_func(nc,a);this._gdpr_update_persistence(a)};k.prototype.init=k.prototype.init;k.prototype.reset=k.prototype.reset;k.prototype.ready=k.prototype.ready;k.prototype.disable=
k.prototype.disable;k.prototype.time_event=k.prototype.time_event;k.prototype.track=k.prototype.track;k.prototype.track_links=k.prototype.track_links;k.prototype.track_forms=k.prototype.track_forms;k.prototype.track_pageview=k.prototype.track_pageview;k.prototype.triggerCodeEval=k.prototype.triggerCodeEval;k.prototype.register=k.prototype.register;k.prototype.register_once=k.prototype.register_once;k.prototype.unregister=k.prototype.unregister;k.prototype.addEventProperties=k.prototype.register;k.prototype.addInitialEventProperties=
k.prototype.register_once;k.prototype.removeEventProperty=k.prototype.unregister;k.prototype.addPageviewProperties=k.prototype.addPageviewProperties;k.prototype.identify=k.prototype.identify;k.prototype.user=k.prototype.user;k.prototype.group=k.prototype.group;k.prototype.alias=k.prototype.alias;k.prototype.page=k.prototype.page;k.prototype.name_tag=k.prototype.name_tag;k.prototype.set_config=k.prototype.set_config;k.prototype.get_config=k.prototype.get_config;k.prototype.get_property=k.prototype.get_property;
k.prototype.get_distinct_id=k.prototype.get_distinct_id;k.prototype.toString=k.prototype.toString;k.prototype._processEvent=k.prototype._processEvent;k.prototype.opt_out_tracking=k.prototype.opt_out_tracking;k.prototype.opt_in_tracking=k.prototype.opt_in_tracking;k.prototype.has_opted_out_tracking=k.prototype.has_opted_out_tracking;k.prototype.has_opted_in_tracking=k.prototype.has_opted_in_tracking;k.prototype.clear_opt_in_out_tracking=k.prototype.clear_opt_in_out_tracking;J.prototype.properties=
J.prototype.properties;J.prototype.update_search_keyword=J.prototype.update_search_keyword;J.prototype.update_referrer_info=J.prototype.update_referrer_info;J.prototype.get_cross_subdomain=J.prototype.get_cross_subdomain;J.prototype.clear=J.prototype.clear;e.safewrap_class(k,["identify"]);var ia={},Lc=function(){e.each(ia,function(a,b){Ha(b)||(V[b]=a)});V._=e},Mc=function(){V.init=function(a,b,c){if(c)return V[c]||(V[c]=ia[c]=ib(a,b,c,[],[],[],ha.nil,0),V[c]._loaded()),V[c];c=V;ia.freshpaint||ia.perfalytics?
(c=ia.freshpaint||ia.perfalytics,c.__SV=V.__SV):a&&(c=ib(a,b,"freshpaint",[],[],[],ha.nil,0),c._loaded(),ia.freshpaint=c,ia.perfalytics=c);V=c;1===Ab&&(O.freshpaint=V,O.perfalytics=V);Lc()}},Nc=function(){function a(){a.done||(bc=a.done=!0,$b=!1,e.each(ia,function(d){d._dom_loaded()}))}function b(){try{P.documentElement.doScroll("left")}catch(d){setTimeout(b,1);return}a()}if(P.addEventListener)"complete"===P.readyState?a():P.addEventListener("DOMContentLoaded",a,!1);else if(P.attachEvent){P.attachEvent("onreadystatechange",
a);var c=!1;try{c=null===O.frameElement}catch(d){}P.documentElement.doScroll&&c&&b()}e.register_event(O,"load",a,!0)};(function(){Ab=1;V=O.freshpaint||O.perfalytics;if(e.isUndefined(V))G.critical('"freshpaint" object not initialized. Ensure you are using the latest version of the Freshpaint JS Library along with the snippet we provide.');else if(V.__loaded||V.config&&V.persistence)G.error("Freshpaint library has already been downloaded at least once.");else{var a=V.__SV||0;if(1.1>a)G.critical("Version mismatch; please ensure you're using the latest version of the Freshpaint code snippet.");
else{var b=V._i[0],c=b[0],d=e.extend({},ac,b[1]||{});tc(d,c,function(f){na._loadScript(d.app_host+"/static/js/integrations.js",function(){Mb(c,function(){for(var g=f.destInfo,h=f.transformer,m=f.configVersion,p=f.elementAttributesWhitelist,u=f.codeEvalConfig,w=f.allowRetry,r=f.trackRequestType,y=f.allowList,x={},A=0;A<g.length;A++){var L=g[A];x[L.name]=L.settings}O.freshpaintIntegrations.init(x,{user:{cookie:{key:"fpjs_user_id"},localStorage:{key:"fpjs_user_traits"}},group:{cookie:{key:"fpjs_group_id"},
localStorage:{key:"fpjs_group_properties"}},integrations:d.integrations});var M=f.eventDefs;e.each(V._i,function(R){R&&e.isArray(R)&&(ia[R[R.length-1]]=ib.apply(this,R.concat([M,g,y,h,m,p,u,w,r])))});Mc();V.init();1.3>=a&&V.page();e.each(ia,function(R){R._loaded()});ia.freshpaint=ia.freshpaint||ia.perfalytics;ia.perfalytics=ia.freshpaint;Nc()})})})}}})()})();
})();
